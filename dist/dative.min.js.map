{"version":3,"file":"dative.min.js","sources":["../src/index.js"],"sourcesContent":["/**\r\n * Converts String To HTML\r\n * @param {String} str\r\n * @returns {HTMLBodyElement}\r\n */\r\nfunction stringToHTML(str) {\r\n  let parser = new DOMParser();\r\n  let doc = parser.parseFromString(str, \"text/html\");\r\n  return doc.body;\r\n}\r\n/** @type {Document} */\r\nvar doc = document !== undefined ? document : {};\r\n/** @type {Boolean} */\r\nvar isClient = !!doc;\r\n\r\n/**\r\n * Configuration For DativeJs Applications\r\n *\r\n * @example\r\n * ```ts\r\n *    Dative.config.foo = 'bar'\r\n * ```\r\n *\r\n *\r\n * @type {{\r\n *      slient: boolean\r\n *      mode: string\r\n *      noop: Function\r\n *      CurrentInstance: null\r\n * }}\r\n */\r\nvar config = {\r\n  slient: isClient ? false : true,\r\n  mode: \"development\",\r\n  /** Please Do Not Append it */\r\n  noop: function () {},\r\n  CurrentInstance: null,\r\n  // errorHandler: []\r\n};\r\n/**\r\n *\r\n * @param {any} msg\r\n * @param  {...any} others\r\n */\r\nfunction warn(msg, ...others) {\r\n  if (config.slient === false) {\r\n    console.error(\"[dative Warn]: \", msg, ...others);\r\n  }\r\n}\r\n/**\r\n *\r\n * @param {any} msg\r\n * @param  {...any} others\r\n */\r\nfunction tip(msg, ...others) {\r\n  if (config.slient === false) {\r\n    console.warn(\"[dative tips]: \", msg, ...others);\r\n  }\r\n}\r\nfunction _type$$(object) {\r\n  let class2type = {},\r\n    type = class2type.toString.call(object),\r\n    typeString =\r\n      \"Boolean Number String Function Array Date RegExp Object Error Symbol\";\r\n\r\n  if (object == null) {\r\n    return object + \"\";\r\n  }\r\n\r\n  typeString.split(\" \").forEach((type) => {\r\n    class2type[`[object ${type}]`] = type.toLowerCase();\r\n  });\r\n\r\n  return typeof object === \"object\" || typeof object === \"function\"\r\n    ? class2type[type] || \"object\"\r\n    : typeof object;\r\n}\r\n\r\nfunction isReserved(string) {\r\n  // 0x24: $, 0x5F: _.\r\n  const char = `${string}`.charCodeAt(0);\r\n  return char === 0x24 || char === 0x5f;\r\n}\r\n\r\nfunction isPlainObject(object) {\r\n  let proto,\r\n    ctor,\r\n    class2type = {},\r\n    toString = class2type.toString,\r\n    hasOwn = class2type.hasOwnProperty,\r\n    fnToString = hasOwn.toString,\r\n    ObjectFunctionString = fnToString.call(Object);\r\n\r\n  if (!object || toString.call(object) !== \"[object Object]\") {\r\n    return false;\r\n  }\r\n\r\n  proto = Object.getPrototypeOf(object);\r\n  if (!proto) {\r\n    return true;\r\n  }\r\n\r\n  ctor = hasOwn.call(proto, \"constructor\") && proto.constructor;\r\n  return (\r\n    typeof ctor === \"function\" && fnToString.call(ctor) === ObjectFunctionString\r\n  );\r\n}\r\nlet uid = 0;\r\nclass Dep$1 {\r\n  constructor() {\r\n    this.id = uid++;\r\n    this.subs = {};\r\n  }\r\n  addSub(sub) {\r\n    // avoid repeated additions\r\n    if (!this.subs[sub.uid]) this.subs[sub.uid] = sub;\r\n  }\r\n  notify() {\r\n    for (let uid in this.subs) {\r\n      this.subs[uid].update();\r\n    }\r\n  }\r\n}\r\nDep$1.target = null;\r\nfunction defineReactive(object, key) {\r\n  let value = object[key],\r\n    dep = new Dep$1();\r\n  Object.defineProperty(object, key, {\r\n    get() {\r\n      Dep$1.target && dep.addSub(Dep$1.target);\r\n      return value;\r\n    },\r\n    set(newValue) {\r\n      value = newValue;\r\n      dep.notify();\r\n    },\r\n  });\r\n  return object;\r\n}\r\nfunction observe(data) {\r\n  if (_type$$(data) != \"object\") return;\r\n  var obj;\r\n  for (let key in data) {\r\n    obj = defineReactive(data, key);\r\n  }\r\n  return obj;\r\n}\r\n\r\nfunction proxy(sourceKey, key) {\r\n  let self = this;\r\n  Object.defineProperty(self, key, {\r\n    configurable: true,\r\n    enumerable: true,\r\n    get: function reactivegetter() {\r\n      return self[sourceKey][key];\r\n    },\r\n    set: function reactivesetter(newVal) {\r\n      self[sourceKey][key] = newVal;\r\n      self.render();\r\n      return true;\r\n    },\r\n  });\r\n}\r\nfunction sanitizeStr(obj) {\r\n  return obj.replace(/javascript:/gi, \"\").replace(/[^\\w-_. ]/gi, function (c) {\r\n    return `&#${c.charCodeAt(0)};`;\r\n  });\r\n}\r\nfunction initData(options, dative) {\r\n  let data = options.data;\r\n  data = dative.data =\r\n    typeof data === \"function\" ? data.apply(dative, [dative]) : data || {};\r\n  if (!isPlainObject(data)) {\r\n    data = {};\r\n    warn(\r\n      \"options data should return an object.\" +\r\n        \"https://dativejs.js.org/api#why-data-should-return-object/\"\r\n    );\r\n  }\r\n\r\n  const keys = Object.keys(data);\r\n  for (let i = 0; i < keys.length; i++) {\r\n    var val = data[keys[i]];\r\n    if (typeof val === \"string\" && dative.sanitize) {\r\n      data[keys[i]] = sanitizeStr(data[keys[i]]);\r\n    }\r\n    if (!isReserved()) dative.proxy(`data`, keys[i]);\r\n  }\r\n  observe(data);\r\n}\r\nvar _typeof$1 =\r\n  typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\"\r\n    ? function (obj) {\r\n        return typeof obj;\r\n      }\r\n    : function (obj) {\r\n        return obj &&\r\n          typeof Symbol === \"function\" &&\r\n          obj.constructor === Symbol &&\r\n          obj !== Symbol.prototype\r\n          ? \"symbol\"\r\n          : typeof obj;\r\n      };\r\n\r\nfunction type(object) {\r\n  var class2type = {};\r\n  var type = class2type.toString.call(object);\r\n  var typeString =\r\n    \"Boolean Number String Function Array Date RegExp Object Error Symbol\";\r\n\r\n  if (object == null) return \"\" + object;\r\n\r\n  typeString.split(\" \").forEach(function (type) {\r\n    return (class2type[\"[object \" + type + \"]\"] = type.toLowerCase());\r\n  });\r\n\r\n  return (typeof object === \"undefined\" ? \"undefined\" : _typeof$1(object)) ===\r\n    \"object\" || typeof object === \"function\"\r\n    ? class2type[type] || \"object\"\r\n    : typeof object === \"undefined\"\r\n    ? \"undefined\"\r\n    : _typeof$1(object);\r\n}\r\n\r\nfunction eachparse(options) {\r\n  return (_, char) => {\r\n    if (!char.includes(\"as\")) {\r\n      warn(\"Expected keyword 'as' But got \" + \"'  '\" + \"\");\r\n    }\r\n    char = char.replace(/as/, \"of\");\r\n    var each = char.split(\"of\");\r\n    function d(c) {\r\n      if (c[1].startsWith(\"{\") && c[1].split(\" \") && c[1].endsWith(\"}\")) {\r\n        var space = c[1].split(\" \");\r\n        for (const {} in space) {\r\n          var cx = space.join(\",\");\r\n          return `[${c[0]}, ${cx}]`;\r\n        }\r\n      }\r\n      return `[${c[0]},${c[1]}]`;\r\n    }\r\n\r\n    return `for (const ${\r\n      each[1].includes(\",\")\r\n        ? d(each[1].split(\",\"))\r\n        : each[1].startsWith(\"{\") && each[1].endsWith(\"}\")\r\n        ? each[1]\r\n        : each[1]\r\n    } of ${\r\n      !each[1].startsWith(\"{\") && each[1].includes(\",\")\r\n        ? `Object.entries(${each[0].trim()})`\r\n        : each[0]\r\n    }) {`;\r\n  };\r\n}\r\nfunction ifparse(_, char) {\r\n  return `if (${char}) {`;\r\n}\r\nfunction elseifparse(_, char) {\r\n  return `} else if (${char}) {`;\r\n}\r\nfunction elseparse(_, char) {\r\n  return \"} else {\";\r\n}\r\n\r\nfunction withparse(_, char) {\r\n  return `with (${char}) {`;\r\n}\r\n\r\nfunction debugparse(_, char) {\r\n  return `_c(console[console.debug ? 'debug' : 'log']({${char}}));\\n debugger`;\r\n}\r\n\r\nfunction commentparse(_, char, charr) {\r\n  return `/** ${charr} **/`;\r\n}\r\n\r\nfunction variableparse(_, char) {\r\n  return `let ${char};`;\r\n}\r\n\r\nfunction isFunction(val) {\r\n  return typeof val === \"function\";\r\n}\r\n\r\nvar inBrowser = typeof window !== \"undefined\";\r\n\r\nconst range = 2;\r\n\r\nfunction generateCodeFrame(source, start = 0, end = source.length) {\r\n  // Split the content into individual lines but capture the newline sequence\r\n  // that separated each line. This is important because the actual sequence is\r\n  // needed to properly take into account the full line length for offset\r\n  // comparison\r\n  let lines = source.split(/(\\r?\\n)/);\r\n  // Separate the lines and newline sequences into separate arrays for easier referencing\r\n  const newlineSequences = lines.filter((_, idx) => idx % 2 === 1);\r\n  lines = lines.filter((_, idx) => idx % 2 === 0);\r\n  let count = 0;\r\n  const res = [];\r\n  for (let i = 0; i < lines.length; i++) {\r\n    count +=\r\n      lines[i].length +\r\n      ((newlineSequences[i] && newlineSequences[i].length) || 0);\r\n    if (count >= start) {\r\n      for (let j = i - range; j <= i + range || end > count; j++) {\r\n        if (j < 0 || j >= lines.length) continue;\r\n        const line = j + 1;\r\n        res.push(\r\n          `${line}${\" \".repeat(Math.max(3 - String(line).length, 0))}|  ${\r\n            lines[j]\r\n          }`\r\n        );\r\n        const lineLength = lines[j].length;\r\n        const newLineSeqLength =\r\n          (newlineSequences[j] && newlineSequences[j].length) || 0;\r\n        if (j === i) {\r\n          // push underline\r\n          const pad = start - (count - (lineLength + newLineSeqLength));\r\n          const length = Math.max(\r\n            1,\r\n            end > count ? lineLength - pad : end - start\r\n          );\r\n          res.push(`   |  ` + \" \".repeat(pad) + \"^\".repeat(length));\r\n        } else if (j > i) {\r\n          if (end > count) {\r\n            const length = Math.max(Math.min(end - count, lineLength), 1);\r\n            res.push(`   |  ` + \"^\".repeat(length));\r\n          }\r\n          count += lineLength + newLineSeqLength;\r\n        }\r\n      }\r\n      break;\r\n    }\r\n  }\r\n  return res.join(\"\\n\");\r\n}\r\n//{{(.+?)}}\r\nvar string$ = /`/g;\r\n\r\nfunction parse(html, options, elem) {\r\n  html = html.trim();\r\n  var re = /{{(.+?)}}/g,\r\n    reExp =\r\n      /(^( )?(var|let|const|await|if|for|else|{|}|#each|\\/each|#if|:else|:else if|\\/if|#with|\\/with|debugger|@debug|\\$:|;))(.*)?/g,\r\n    code = \"with(obj) { var r=[]; \",\r\n    cursor = 0,\r\n    result = \"\",\r\n    match;\r\n  code += \"var _c = (msg)=>{ return r.push(msg)}; \";\r\n  var add = function (line, js) {\r\n    js\r\n      ? (code += line.match(reExp)\r\n          ? line\r\n              .replace(/#each ((?:.|)+)/g, eachparse())\r\n              .replace(/\\/each/g, \"\\n}\")\r\n              .replace(/#if ((?:.|)+)/g, ifparse)\r\n              .replace(/:else if ((?:.|)+)/g, elseifparse)\r\n              .replace(/:else/g, elseparse)\r\n              .replace(/\\/if/g, \"}\")\r\n              .replace(/#with ((?:.|)+)/g, withparse)\r\n              .replace(/\\/with/g, (_) => `}`)\r\n              .replace(/@debug\\s+?((?:.|)+)/g, debugparse)\r\n              .replace(/\\$:\\s+((?:.|)+)/g, variableparse) + \"\\n\"\r\n          : \"_c(\" + line.replace(/!(--)?((?:.|)+)?/g, commentparse) + \");\\n\")\r\n      : (code +=\r\n          line != \"\"\r\n            ? \"_c(`\" +\r\n              line.replace(string$, \"\\\\`\").replace(/\\${/g, \"$\\\\{\") +\r\n              \"`);\"\r\n            : \"\");\r\n\r\n    return add;\r\n  };\r\n  while ((match = re.exec(html))) {\r\n    add(html.slice(cursor, match.index))(match[1], true);\r\n    cursor = match.index + match[0].length;\r\n  }\r\n\r\n  add(html.substr(cursor, html.length - cursor));\r\n  code = (code + 'return r.join(\"\"); }').replace(/[\\t]/g, \"\").trim();\r\n  try {\r\n    result = new Function(\"obj\", code).apply(options, [options]);\r\n  } catch (err) {\r\n    console.error(\r\n      \"Compiler \" +\r\n        err.name +\r\n        \": \" +\r\n        err.message +\r\n        \" at \\n\" +\r\n        generateCodeFrame(options.template)\r\n    );\r\n  }\r\n  return result;\r\n}\r\n\r\nfunction stringToHTML$__(str) {\r\n  // Create document\r\n  let parser = new DOMParser();\r\n  let doc = parser.parseFromString(str, \"text/html\");\r\n\r\n  return doc.body || document.createElement(\"body\");\r\n}\r\n\r\n/**\r\n * Get the content from a node\r\n * @param  {Node}   node The node\r\n * @return {String}      The content\r\n */\r\nfunction getNodeContent(node) {\r\n  return node.childNodes && node.childNodes.length ? null : node.textContent;\r\n}\r\n\r\n/**\r\n * Check if two nodes are different\r\n * @param  {Node}  node1 The first node\r\n * @param  {Node}  node2 The second node\r\n * @return {Boolean}     If true, they're not the same node\r\n */\r\nfunction isDifferentNode(node1, node2) {\r\n  return (\r\n    node1.nodeType !== node2.nodeType ||\r\n    node1.tagName !== node2.tagName ||\r\n    node1.id !== node2.id ||\r\n    node1.src !== node2.src\r\n  );\r\n}\r\n\r\n/**\r\n * Check if the desired node is further ahead in the DOM existingNodes\r\n * @param  {Node}     node           The node to look for\r\n * @param  {NodeList} existingNodes  The DOM existingNodes\r\n * @param  {Integer}  index          The indexing index\r\n * @return {Integer}                 How many nodes ahead the target node is\r\n */\r\nfunction aheadInTree(node, existingNodes, index) {\r\n  return Array.from(existingNodes)\r\n    .slice(index + 1)\r\n    .find(function (branch) {\r\n      return !isDifferentNode(node, branch);\r\n    });\r\n}\r\n\r\n/**\r\n * If there are extra elements in DOM, remove them\r\n * @param  {Array} existingNodes      The existing DOM\r\n * @param  {Array} templateNodes The template\r\n */\r\nfunction trimExtraNodes(existingNodes, templateNodes) {\r\n  let extra = existingNodes.length - templateNodes.length;\r\n  if (extra < 1) return;\r\n  for (; extra > 0; extra--) {\r\n    existingNodes[existingNodes.length - 1].remove();\r\n  }\r\n}\r\n\r\n/**\r\n * Diff the existing DOM node versus the template\r\n * @param  {Element} template The template HTML\r\n * @param  {Node}  elem     The current DOM HTML\r\n * @param  {Array} polyps   Attached components for this element\r\n */\r\nfunction compiler(template, elem, polyps = []) {\r\n  // Get arrays of child nodes\r\n  let domMap = elem.childNodes;\r\n  let templateMap = template.childNodes;\r\n  // Diff each item in the templateMap\r\n  templateMap.forEach(function (node, index) {\r\n    if (template.querySelectorAll(\"template\")) {\r\n      var temps = template.querySelectorAll(\"template\");\r\n      for (var temp of temps) {\r\n        const fragg = document.createElement(\"div\");\r\n        fragg.innerHTML = temp.innerHTML;\r\n        temp.replaceWith(fragg);\r\n      }\r\n    }\r\n    // If element doesn't exist, create it\r\n    if (!domMap[index]) {\r\n      elem.append(node.cloneNode(true));\r\n      return;\r\n    }\r\n    // If element is not the same type, update the DOM accordingly\r\n    if (isDifferentNode(node, domMap[index])) {\r\n      // Check if node exists further in the tree\r\n      let ahead = aheadInTree(node, domMap, index);\r\n\r\n      // If not, insert the node before the current one\r\n      if (!ahead) {\r\n        domMap[index].before(node.cloneNode(true));\r\n        return;\r\n      }\r\n\r\n      // Otherwise, move it to the current spot\r\n      domMap[index].before(ahead);\r\n    }\r\n    // If element is an attached component, skip it\r\n    let isPolyp = polyps.filter(function (polyp) {\r\n      return ![3, 8].includes(node.nodeType) && node.matches(polyp);\r\n    });\r\n\r\n    if (isPolyp.length > 0) return;\r\n    // If content is different, update it\r\n    let templateContent = getNodeContent(node);\r\n    if (templateContent && templateContent !== getNodeContent(domMap[index])) {\r\n      domMap[index].textContent = templateContent;\r\n    }\r\n\r\n    // If target element should be empty, wipe it\r\n    if (domMap[index].childNodes.length > 0 && node.childNodes.length < 1) {\r\n      domMap[index].innerHTML = \"\";\r\n      return;\r\n    }\r\n\r\n    // If element is empty and shouldn't be, build it up\r\n    // This uses a document fragment to minimize reflows\r\n    if (domMap[index].childNodes.length < 1 && node.childNodes.length > 0) {\r\n      let fragment = document.createDocumentFragment();\r\n      compiler(node, fragment, polyps);\r\n      domMap[index].appendChild(fragment);\r\n      return;\r\n    }\r\n\r\n    // If there are existing child elements that need to be modified, diff them\r\n    if (node.childNodes.length > 0) {\r\n      compiler(node, domMap[index], polyps);\r\n    }\r\n  });\r\n\r\n  // If extra elements in DOM, remove them\r\n  trimExtraNodes(domMap, templateMap);\r\n}\r\nvar processor = function (elem, template, data) {\r\n  if (elem instanceof Element) {\r\n    var temp = stringToHTML(template);\r\n    if (temp.childElementCount > 1) {\r\n      warn(\r\n        \"Multiple root nodes returned from template. Template\",\r\n        \"should return a single root node. \\n\",\r\n        temp.innerHTML,\r\n        \"\\n\" +\r\n          \"^\".repeat(\r\n            temp.innerHTML.length / temp.lastChild.textContent.length - 2\r\n          )\r\n      );\r\n      return;\r\n    }\r\n    if (temp.querySelector(\"script\")) {\r\n      warn(\r\n        \"<script> inside template will not be compiled and will give errors\"\r\n      );\r\n      return;\r\n    }\r\n\r\n    if (temp.querySelector(\"style\")) {\r\n      warn(\"<style> inside template will not be compiled and will give errors\");\r\n    }\r\n\r\n    compiler(stringToHTML$__(parse(template, data)), elem);\r\n  } else {\r\n    warn(typeof elem + \" not a Node\");\r\n  }\r\n};\r\nfunction event(data, expression, elem, evt) {\r\n  var _$ = \"with(obj){ var $on = []; var _on = (c)=> $on.push(c);\";\r\n  _$ += \"_on((($event,$self)=>{\" + expression + \"})($event,$self));\";\r\n  _$ = _$ + 'return $on.join(\"\") }';\r\n  try {\r\n    new Function(\"obj\", \"$event\", \"$self\", _$).apply(data, [data, evt, elem]);\r\n  } catch (err) {\r\n    const message__ =\r\n      \"Compiler (Event) \" +\r\n      err.name +\r\n      \": \" +\r\n      err.message +\r\n      \" found at: \\n\" +\r\n      elem.outerHTML +\r\n      \"\\n\" +\r\n      \"^\".repeat(elem.outerHTML.length) +\r\n      \"\\n\";\r\n    warn(message__);\r\n  }\r\n}\r\nfunction attributeparser(data, elem$$, self) {\r\n  var result;\r\n  var code = \"with (obj) { var att = []; var _a = (c)=> att.push(c);\";\r\n  code += `_a(${elem$$});`;\r\n  code = code + 'return att.join(\"\"); }';\r\n  try {\r\n    result = new Function(\"obj\", code).apply(data, [data]);\r\n  } catch (err) {\r\n    const message__ =\r\n      \"Compiler (Directives) \" +\r\n      err.name +\r\n      \": \" +\r\n      err.message +\r\n      \" found at: \\n\" +\r\n      self.outerHTML +\r\n      \"\\n^^^^^^^^\\n\";\r\n    warn(message__);\r\n  }\r\n  return result;\r\n}\r\nvar warnDuplicate = function (target, key, property) {\r\n  warn(\r\n    'Property \"' +\r\n      key +\r\n      '\" is already defined in the ' +\r\n      property +\r\n      \"property\" +\r\n      target || \"\"\r\n  );\r\n};\r\n\r\n/**\r\n * @param {Element|String} el\r\n */\r\nfunction query(el) {\r\n  if (typeof el === \"string\") {\r\n    var elem = document.querySelector(el);\r\n    if (!elem) {\r\n      warn(\"Can't find this element \" + el);\r\n      return document.createElement(\"div\");\r\n    }\r\n    return elem;\r\n  } else {\r\n    if (el.shadowRoot) {\r\n      return el.shadowRoot.host;\r\n    } else {\r\n      return el;\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * @param {string} id\r\n */\r\nfunction idToTemplate(id) {\r\n  var el = query(id);\r\n  if (el.tagName.toLowerCase() !== \"script\") {\r\n    warn(`Template element with id ${id}, must be a <script> element\r\n      Instead of <${el.tagName.toLowerCase()} id='${id.replace(/#/g, \"\")}' ${\r\n      el.hasAttribute(\"class\")\r\n        ? `class=\"${el.getAttribute(\"class\")}\"`\r\n        : el.hasAttribute(\"style\")\r\n        ? `style=\"${el.getAttribute(\"style\")}\"`\r\n        : \"\"\r\n    } ...>...</${el.tagName.toLowerCase()}> Use <script type=\"text/dative\" id=\"${id.replace(\r\n      /#/g,\r\n      \"\"\r\n    )}\" ...>...</script>`);\r\n    return;\r\n  }\r\n  return el && el.innerHTML;\r\n}\r\n\r\nfunction s4() {\r\n  return Math.floor((1 + Math.random()) * 0x10000)\r\n    .toString(16)\r\n    .substring(1);\r\n}\r\nfunction uuid_() {\r\n  return (\r\n    s4() +\r\n    s4() +\r\n    \"-\" +\r\n    s4() +\r\n    \"-\" +\r\n    s4() +\r\n    \"-\" +\r\n    s4() +\r\n    \"-\" +\r\n    s4() +\r\n    s4() +\r\n    s4()\r\n  );\r\n}\r\n/**\r\n * Prefix for directives\r\n */\r\nfunction prefix(subject = \"\") {\r\n  return \"dv-\" + subject;\r\n}\r\nfunction valps(val, data) {\r\n  var sub = val.split(\".\");\r\n  if (sub.length > 1) {\r\n    var temp = data;\r\n    sub.forEach((item) => {\r\n      if (!temp[item]) return;\r\n      temp = temp[item];\r\n    });\r\n    return temp;\r\n  } else if (!data[val]) return;\r\n  return data[val];\r\n}\r\n\r\n/**\r\n * @param {Dative} Dative\r\n */\r\nfunction initRender(Dative) {\r\n  /**\r\n   * @param {string|object} obj new object for the data\r\n   * @param {any} data new object for the data\r\n   **/\r\n  Dative.prototype.set = function set(obj, data) {\r\n    var $this = this;\r\n    if (typeof obj !== \"object\") {\r\n      $this[obj] = data;\r\n      $this.render();\r\n    } else {\r\n      for (var key in obj) {\r\n        if (obj.hasOwnProperty(key)) {\r\n          $this[key] = obj[key];\r\n          $this.render();\r\n        }\r\n      }\r\n    }\r\n  };\r\n  Dative.prototype.get = function get(value = \"\") {\r\n    return value === \"\" ? this : valps(value, this);\r\n  };\r\n  function kebabToCamel(str, options = { prefix: \"\", ignorePrefix: \"\" }) {\r\n    const { prefix, ignorePrefix } = options;\r\n    let ignoredStr = str;\r\n    if (\r\n      ignorePrefix !== undefined &&\r\n      ignorePrefix !== null &&\r\n      ignorePrefix !== \"\"\r\n    ) {\r\n      ignoredStr = ignoredStr.replace(new RegExp(`^${ignorePrefix}-`), \"\");\r\n    }\r\n    const camelStr = ignoredStr\r\n      .split(\"-\")\r\n      .filter((s) => s !== \"\")\r\n      .reduce((r, s) => (r = r + `${s[0].toUpperCase()}${s.slice(1)}`));\r\n    if (prefix !== undefined && prefix !== null && prefix !== \"\") {\r\n      return `${prefix}${camelStr.replace(/^([a-z])/, (m, p) =>\r\n        p.toUpperCase()\r\n      )}`;\r\n    }\r\n    return camelStr;\r\n  }\r\n  /**\r\n   *\r\n   * @param {Element} target\r\n   * @param {string} key\r\n   * @param {Element} elem\r\n   * @param {boolean} isDirective\r\n   */\r\n  var warnDuplicate$ = function (target, key, elem, isDirective = false) {\r\n    target &&\r\n      warn(\r\n        `'${key}' is in ${elem} already.Do not duplicate ${\r\n          isDirective ? \"directives\" : \"attributes\"\r\n        }`\r\n      );\r\n  };\r\n\r\n  /**\r\n   *\r\n   * @param {Array<any>} polyps\r\n   * @param {any} dv\r\n   * @returns {void}\r\n   */\r\n  function renderPolyps(polyps, dv) {\r\n    if (!polyps) return;\r\n    polyps.forEach(function (component) {\r\n      if (component.attached.includes(dv))\r\n        return err(\r\n          `\"${dv.$el}\" has attached nodes that it is also attached to, creating an infinite loop.`\r\n        );\r\n      if (\"render\" in component) component.render();\r\n    });\r\n  }\r\n  /**\r\n   * Credits: DativeAnimate\r\n   * @link https://tobithedev.github.io/dative-animation\r\n   * @param {HTMLElement|Element} el Element to be animated\r\n   * @param {Number} duration duration for the animation\r\n   * @param {Number} delay\r\n   * @param {Boolean} once\r\n   */\r\n  function fadeIn(el, duration, delay = 0, once = true) {\r\n    var op = 0;\r\n    var animate = el.animate([{ opacity: op }, { display: \"block\" }], {\r\n      duration,\r\n      delay,\r\n      easing: \"linear\",\r\n    });\r\n    var timer = setInterval(function () {\r\n      if (op >= 1.0) {\r\n        clearInterval(timer);\r\n        if (once) {\r\n          animate.pause();\r\n        }\r\n      }\r\n      animate = el.animate([{ transition: \"2s\" }, { opacity: op }], {\r\n        duration,\r\n        delay,\r\n        easing: \"linear\",\r\n      });\r\n      op = op + 0.1;\r\n      if (once) {\r\n        animate.cancel();\r\n      }\r\n    }, duration);\r\n  }\r\n\r\n  /**\r\n   * Credits: DativeAnimate\r\n   * @param {HTMLElement|Element} el Element to be animated\r\n   * @param {Number} duration duration for the animation\r\n   * @param {Number} delay\r\n   * @param {Boolean} once\r\n   */\r\n  function bounce(el, duration, delay = 0, once = false) {\r\n    var animate = el.animate(\r\n      [\r\n        {\r\n          animationTimingFunction: \"cubic-bezier(0.8,0,1,1)\",\r\n          transform: \"translateY(-25%)\",\r\n        },\r\n        {\r\n          animationTimingFunction: \"cubic-bezier(0,0,0.2,1)\",\r\n          transform: \"translateY(0)\",\r\n        },\r\n      ],\r\n      {\r\n        duration,\r\n        delay,\r\n        easing: \"linear\",\r\n        iterations: Infinity,\r\n      }\r\n    );\r\n    if (once === true) {\r\n      animate.cancel();\r\n    }\r\n  }\r\n  /**\r\n   * returns the template to the dom\r\n   * @returns {Element}\r\n   **/\r\n  Dative.prototype.render = function () {\r\n    var $app = this;\r\n    $app.kebabToCamel = kebabToCamel;\r\n    let template =\r\n      type(this.options.template) === \"function\"\r\n        ? this.options.template()\r\n        : this.options.template || \"\";\r\n    if (typeof template === \"string\") {\r\n      if (template[0] === \"#\") {\r\n        template = idToTemplate(template);\r\n      }\r\n    }\r\n    /** @type {string} */\r\n    this.template = template;\r\n    $app.isMounted = true;\r\n    $app.isUnmounted = false;\r\n    var target = $app.options.target || $app.options.el;\r\n    if (target) {\r\n      $app.$el = query(target);\r\n      $app.$el.setAttribute(\"data-dative-app\", \"\");\r\n    }\r\n    if (\r\n      $app.$el == document.documentElement ||\r\n      $app.$el == document.body ||\r\n      $app.$el === doc.head\r\n    ) {\r\n      this.$el.remove();\r\n      $app.isUnmounted = true;\r\n      warn(\"Can't mount on <head> or <body>\");\r\n    }\r\n    if (this.$el && !template) {\r\n      $app.isUnmounted = true;\r\n      warn(\r\n        \"You did not provide a template for this instance or template returned \" +\r\n          typeof template\r\n      );\r\n    }\r\n    $app.$el.dative_app = $app;\r\n    /** @type {Element} */\r\n    var elem = this.$el;\r\n    if ($app.isMounted) {\r\n      $app.attached.map(function (polyp) {\r\n        return polyp.$el;\r\n      });\r\n      processor(elem, template.trim(), this);\r\n\r\n      renderPolyps($app.attached, $app);\r\n      for (const el of elem.querySelectorAll(\"*\")) {\r\n        if ($app.options.css) {\r\n          el.setAttribute(\"data-dative-css\", $app.cssId_);\r\n        }\r\n        for (const name of el.getAttributeNames()) {\r\n          if (name.startsWith(prefix(\"on:\")) || name.startsWith(\"on:\")) {\r\n            var eventName = name.slice(6);\r\n            if (name.startsWith(\"on:\")) {\r\n              eventName = name.slice(3);\r\n            }\r\n\r\n            const handlerName = el.getAttribute(name);\r\n            if ($app.events) {\r\n              for (const events in $app.events) {\r\n                const vall = $app.events[events];\r\n                // console.log(events,vall);\r\n                if (eventName === events) {\r\n                  vall(el, event.bind(this));\r\n                }\r\n              }\r\n            }\r\n            el.addEventListener(eventName, (evt) => {\r\n              event(this, handlerName, el, evt);\r\n            });\r\n\r\n            el.removeAttribute(name);\r\n          } else if (name.startsWith(\"transition\") || name.startsWith(\"#\")) {\r\n            name.slice(11);\r\n            if (name.startsWith(\"#\")) {\r\n              name.slice(1);\r\n            }\r\n            var transyName = el.getAttribute(name);\r\n            let modifiersregexp = name.match(/\\.[^.\\]]+(?=[^\\]]*$)/g) || [];\r\n            let modifiers = modifiersregexp.map((i) => i.replace(\".\", \"\"));\r\n            var transitionMap = {\r\n              enter: function enter(klass) {\r\n                el.classList.add(klass + \"-enter\");\r\n              },\r\n              \"before-enter\": function enter(klass) {\r\n                el.classList.add(klass + \"-before-enter\");\r\n              },\r\n              leave: function enter(klass) {\r\n                el.classList.add(klass + \"-leave\");\r\n              },\r\n              \"before-leave\": function enter(klass) {\r\n                el.classList.add(klass + \"-before-leave\");\r\n              },\r\n            };\r\n            if (transyName !== null) {\r\n              modifiers.map(($value) => {\r\n                if ($value == \"leave\") transitionMap[$value](transyName);\r\n                else if ($value == \"enter\") transitionMap[$value](transyName);\r\n                else if ($value == \"before-enter\")\r\n                  transitionMap[$value](transyName);\r\n                else if ($value == \"before-leave\")\r\n                  transitionMap[$value](transyName);\r\n              });\r\n            } else {\r\n              modifiers.map(($value) => {\r\n                if ($value == \"leave\") {\r\n                  el.style.transition = {\r\n                    opacity: 0,\r\n                    transform: `scale(1)`,\r\n                  };\r\n                } else if ($value == \"enter\") {\r\n                  el.style.transition = {\r\n                    opacity: 1,\r\n                    transform: `scale(1)`,\r\n                  };\r\n                } else if ($value == \"before-enter\") {\r\n                  el.style.transition = {\r\n                    opacity: 0,\r\n                    transform: `scale(1)`,\r\n                  };\r\n                } else if ($value == \"before-leave\") {\r\n                  el.style.transition = {\r\n                    opacity: 1,\r\n                    transform: `scale(1)`,\r\n                  };\r\n                }\r\n              });\r\n            }\r\n            el.removeAttribute(name);\r\n          } else if (name.startsWith(\"animate:\") || name.startsWith(\"@\")) {\r\n            var animation_name = name.slice(8);\r\n            if (name.startsWith(\"@\")) {\r\n              animation_name = name.slice(1);\r\n            }\r\n            const checkani = el.getAttribute(name).split(\",\");\r\n\r\n            var animationName = {\r\n              duration: checkani[0],\r\n              delay: checkani[1],\r\n              ease: checkani[2],\r\n            };\r\n            const delay = animationName.delay;\r\n            const duration = animationName.duration;\r\n            const ease = animationName.ease;\r\n            if ($app.animate) {\r\n              for (const animate in $app.animate) {\r\n                const vall = $app.animate[animate];\r\n                const setStyle = (options) => {\r\n                  for (const key in options) {\r\n                    if (Object.hasOwnProperty.call(options, key)) {\r\n                      const property = options[key];\r\n                      el.style[key] = property;\r\n                    }\r\n                  }\r\n                };\r\n                if (animation_name === animate) {\r\n                  vall({\r\n                    animate: el.animate.bind(el),\r\n                    setStyle,\r\n                    duration: Number(duration),\r\n                    delay: Number(delay),\r\n                    ease: ease,\r\n                  });\r\n                }\r\n              }\r\n            }\r\n            if (animation_name === \"fadein\") {\r\n              fadeIn(el, Number(duration) || 200, Number(delay) || 200);\r\n            } else if (animation_name === \"bounce\") {\r\n              bounce(el, Number(duration) || 200, Number(delay) || 200);\r\n            }\r\n            el.removeAttribute(name);\r\n          } else if (name === prefix(\"ref\") || name === \"ref\") {\r\n            if (el.ref) {\r\n              warnDuplicate$(el, \"ref\", el, true);\r\n              return;\r\n            }\r\n            const refName = el.getAttribute(name);\r\n            this.$ref[refName] = el;\r\n            el.removeAttribute(name);\r\n          } else if (\r\n            name.startsWith(prefix(\"bind:\")) ||\r\n            name.startsWith(\"bind:\")\r\n          ) {\r\n            let propName = name.slice(8);\r\n            if (name.startsWith(\"bind:\")) {\r\n              propName = name.slice(5);\r\n            }\r\n            const dataName = el.getAttribute(name);\r\n            if (propName === \"this\") {\r\n              if (el.ref) {\r\n                warnDuplicate$(el, \"bind:this\", el, true);\r\n                return;\r\n              }\r\n              this.$ref[dataName] = el;\r\n              el.removeAttribute(name);\r\n            } else {\r\n              el[this.kebabToCamel(propName)] = attributeparser(\r\n                this,\r\n                dataName,\r\n                el\r\n              );\r\n              el.removeAttribute(name);\r\n            }\r\n          } else if (name === prefix(\"cloak\")) {\r\n            if (el.getAttribute(name) !== \"\") {\r\n              warn(\r\n                \"`dv-cloak` doesn't accepts any value.\\nShould be\\n<\" +\r\n                  el.tagName.toLowerCase() +\r\n                  \" dv-cloak ...>...</\" +\r\n                  el.tagName.toLowerCase() +\r\n                  \">\"\r\n              );\r\n            }\r\n            queueMicrotask(() => el.removeAttribute(name));\r\n          }\r\n\r\n          for (var keys in $app.directives) {\r\n            var val = $app.directives[keys];\r\n            if (typeof val === \"function\") {\r\n              var $name = keys;\r\n              if (name.startsWith(prefix($name))) {\r\n                var binding = el.getAttribute(name);\r\n                let modifiers = name.match(/\\.[^.\\]]+(?=[^\\]]*$)/g) || [];\r\n                val(el, {\r\n                  bind: {\r\n                    value: attributeparser(this, binding, el),\r\n                    args: name.split(\":\")[1],\r\n                    name: name,\r\n                    expression: binding,\r\n                    modifiers: modifiers.map((i) => i.replace(\".\", \"\")),\r\n                  },\r\n                });\r\n                val._dv_directives_ = el._dv_directives_ = {\r\n                  active: true,\r\n                  args: name.split(\":\")[1],\r\n                  value: attributeparser(this, binding, el),\r\n                  expression: binding,\r\n                  name: name,\r\n                  modifiers: modifiers.map((i) => i.replace(\".\", \"\")),\r\n                };\r\n                el.removeAttribute(name);\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      return elem;\r\n    }\r\n  };\r\n  /**\r\n   * Attach a component to this one\r\n   * @param  {Function|Array<Function>} component The component(s) to attach\r\n   */\r\n  Dative.prototype.attach = function (component) {\r\n    var ref = this;\r\n    // Attach components\r\n    let polyps = type(component) === \"array\" ? component : [component];\r\n    for (let polyp of polyps) {\r\n      ref.attached.push(polyp);\r\n    }\r\n  };\r\n}\r\n\r\n/**\r\n * Detach a linked component to this one\r\n * @param  {Function|Array<Function>} component The linked component(s) to detach\r\n */\r\nDative.prototype.detach = function (component) {\r\n  // Detach components\r\n  let polyps = type(component) === \"array\" ? component : [component];\r\n  for (let polyp of polyps) {\r\n    let index = this.attached.indexOf(polyp);\r\n    if (index < 0) return;\r\n    this.attached.splice(index, 1);\r\n  }\r\n};\r\n/**\r\n * @param {String} str\r\n * @param {boolean} expectsLowerCase\r\n */\r\nfunction makeMap(str, expectsLowerCase) {\r\n  const map = Object.create(null);\r\n  const list = str.split(\",\");\r\n  for (let lists in list) {\r\n    map[list[lists]] = true;\r\n  }\r\n  return expectsLowerCase\r\n    ? (val) => !!map[val.toLowerCase()]\r\n    : (val) => !!map[val];\r\n}\r\n\r\nvar BuiltinNames = makeMap(\r\n  \"object, function,switch,const,eval,var,let,Object,Array,in,of,if,else,instanceof,this,class,export,import,default,try,catch\"\r\n);\r\n\r\n/**\r\n * @param {Dative} dative\r\n */\r\nfunction initMethods(dative) {\r\n  let methods = dative.methods;\r\n  if (methods) {\r\n    for (const key in methods) {\r\n      if (key in dative.data) {\r\n        warnDuplicate(this, key, \"data\");\r\n        return;\r\n      }\r\n      if (BuiltinNames(key)) {\r\n        warn(\r\n          \"Don't use Valid Javascript Builtin names for functions in methods to avoid errors\"\r\n        );\r\n      }\r\n      if (typeof methods[key] !== \"function\") {\r\n        warn(\r\n          `Method \"${key}\" has type \"${typeof methods[\r\n            key\r\n          ]}\" in the component definition. ` +\r\n            `Did you reference the function correctly?`\r\n        );\r\n        return;\r\n      }\r\n      if (key in dative && isReserved(key)) {\r\n        warn(\r\n          `Method \"${key}\" conflicts with an existing Dative instance method. ` +\r\n            `Avoid defining component methods that start with _ or $.`\r\n        );\r\n        return;\r\n      }\r\n      dative[key] =\r\n        methods[key] == null\r\n          ? config.noop\r\n          : typeof methods[key] == \"function\"\r\n          ? methods[key].bind(dative)\r\n          : \"\";\r\n      dative[key]._dv_function = true;\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * idtotemplate converter for style\r\n * @param {string} id\r\n */\r\nfunction idToTemplate$1(id) {\r\n  var el = query(id);\r\n  if (el.tagName.toLowerCase() !== \"style\") {\r\n    warn(\r\n      `Template element with id ${id}, must be a <style> element.\\nInstead of <${el.tagName.toLowerCase()} id='${id.replace(\r\n        /#/g,\r\n        \"\"\r\n      )}' ${\r\n        el.hasAttribute(\"class\")\r\n          ? `class=\"${el.getAttribute(\"class\")}\"`\r\n          : el.hasAttribute(\"style\")\r\n          ? `style=\"${el.getAttribute(\"style\")}\"`\r\n          : \"\"\r\n      } ...>...</${el.tagName.toLowerCase()}> Use <style type=\"text/dss\" id=\"${id.replace(\r\n        /#/g,\r\n        \"\"\r\n      )}\" ...>...</style>`\r\n    );\r\n    return;\r\n  }\r\n  return el && el.innerHTML;\r\n}\r\n/** @type {Number} */\r\nvar $$uid = 0;\r\n\r\n/**\r\n * Install Dative plugin\r\n * @param  {Array<Dative>} args The Dative plugin\r\n */\r\nfunction use() {\r\n  var arguments$1 = arguments;\r\n\r\n  var _this = this;\r\n  var plugins = [];\r\n  for (var _i = 0; _i < arguments.length; _i++) {\r\n    plugins[_i] = arguments$1[_i];\r\n  }\r\n  plugins.forEach(function (p) {\r\n    if (p.install && isFunction(p.install)) {\r\n      p.install({\r\n        proto: _this.constructor.prototype,\r\n        Dative: _this.constructor,\r\n        instance: _this,\r\n      });\r\n    } else {\r\n      p({\r\n        proto: _this.constructor.prototype,\r\n        Dative: _this.constructor,\r\n        instance: _this,\r\n      });\r\n    }\r\n  });\r\n  return this;\r\n}\r\nvar ReservedProperties = makeMap(\"el,ref\");\r\n\r\nclass DeprecatedError extends Error {\r\n  constructor(message) {\r\n    super(message);\r\n    this.name = \"DeprecatedError\";\r\n    this.message = message;\r\n  }\r\n}\r\n\r\nfunction depd(namespace) {\r\n  return function deprecated(message) {\r\n    console.warn(new DeprecatedError(`${namespace} ${message}`));\r\n  };\r\n}\r\nfunction _init($this) {\r\n  $this.oncreated = $this.options.oncreated || config.noop;\r\n  $this.onmounted = $this.options.onmounted || config.noop;\r\n  $this.methods = $this.options.methods || Object.create(null);\r\n  $this.directives = $this.options.directives || Object.create(null);\r\n  $this.animate = $this.options.animate || Object.create(null);\r\n  $this.$ref = Object.create(null);\r\n  $this.isUnmounted = false;\r\n  $this.isMounted = false;\r\n  $this.ondestroy = $this.options.ondestroy || config.noop;\r\n  $this.attached = [];\r\n  $this.sanitize =\r\n    $this.options.sanitize === undefined ? false : $this.options.sanitize;\r\n  if ($this.options.css) $this.cssId_ = uuid_();\r\n  initData($this.options, $this);\r\n  initMethods($this);\r\n  var attach = $this.options.attach\r\n    ? type($this.options.attach) === \"array\"\r\n      ? $this.options.attach\r\n      : [$this.options.attach]\r\n    : [];\r\n  if ($this.oncreated !== undefined && $this.oncreated !== null) {\r\n    $this.oncreated();\r\n  }\r\n  $this._uid = $$uid += 1;\r\n  if ($this.options.store) {\r\n    var deprecated$ = depd(\"store\");\r\n    deprecated$(\r\n      \"options has been deprecated in Dyte\" +\r\n        (config.dyte ? \" \" + config.dyte.version : \"\") +\r\n        \" and in DativeJs \" +\r\n        Dative.version +\r\n        \".Access it globally after installing Dyte.\\n`app.use(store);`\"\r\n    );\r\n  }\r\n  if ($this.options.update) {\r\n    var deprecated$$ = depd(\"update\");\r\n    deprecated$$(\r\n      \"options has been deprecated in \" +\r\n      Dative.version\r\n    );\r\n  }\r\n\r\n  /**\r\n   * initialize mounted hooks\r\n   **/\r\n  if ($this.onmounted !== undefined && $this.onmounted !== null) {\r\n      $this.onmounted();\r\n  } else if (\r\n    $this.isUnmounted &&\r\n    $this.ondestroy !== null &&\r\n    $this.ondestroy !== undefined\r\n  ) {\r\n    $this.ondestroy();\r\n  }\r\n  const computed = $this.options.computed || Object.create(null);\r\n  if (!computed) return false;\r\n  for (let key in computed) {\r\n    const value = computed[key];\r\n    if (key in $this.data || key in $this.methods) {\r\n      warnDuplicate($this, key, key in $this.data ? \"data\" : \"methods\");\r\n      return;\r\n    }\r\n    if (typeof value === \"function\") {\r\n      Object.defineProperty($this, key, {\r\n        get: value,\r\n        enumerable: true,\r\n        configurable: true,\r\n      });\r\n    } else if (\r\n      typeof value === \"string\" ||\r\n      (typeof value !== \"function\" && typeof value !== \"object\")\r\n    ) {\r\n      warn(\r\n        \"computed options accepts ``Object|Function`` but got \" + typeof value\r\n      );\r\n      return;\r\n    } else if (typeof value === \"object\") {\r\n      Object.defineProperty($this, key, {\r\n        get: value.get || config.noop,\r\n        set: value.set || config.noop,\r\n        configurable: true,\r\n      });\r\n    }\r\n  }\r\n  var property$ = $this.options.property || Object.create(null);\r\n  for (var prop in property$) {\r\n    if (ReservedProperties(prop)) {\r\n      WarnReserved$(prop);\r\n      return;\r\n    }\r\n    const vall = property$[prop];\r\n    if (typeof vall === \"function\") {\r\n      Object.defineProperty($this, \"$\" + prop, {\r\n        get: function propertygetter() {\r\n          return vall($this);\r\n        },\r\n        configurable: true,\r\n      });\r\n    }\r\n  }\r\n\r\n  if (attach.length) {\r\n    attach.forEach(function (component) {\r\n      if (\"attach\" in component) {\r\n        component.attach($this);\r\n      }\r\n    });\r\n  }\r\n\r\n  if ($this.$el) $this.render();\r\n}\r\n\r\n/**\r\n * Create the Dative Application\r\n * @param {Object} options The component options\r\n */\r\nfunction Dative(options) {\r\n  options = options || {};\r\n  if (!(\"DOMParser\" in window)) warn(\"Your Browser Doesnt support DativeJs.\");\r\n  if (!(this instanceof Dative)) warn(\"Dative Must be called as a constructor\");\r\n  var $this = this;\r\n  $this.options = options;\r\n  config.CurrentInstance = $this;\r\n  var $plugins = $this.options.use || [];\r\n  var styles = $this.options.css;\r\n\r\n  if (styles) {\r\n    warn(\r\n      \"css options is not supported on per-instance. Use it in \\n var Component = Dative.extend({ \\n ...,\\n css: '/** Your css **/' });\\n var comp = new Component({ ... });\"\r\n    );\r\n  }\r\n  if ($plugins) {\r\n    if (Array.isArray($this.options.use)) {\r\n      $this.use.apply($this, $this.options.use);\r\n    }\r\n  }\r\n  _init($this);\r\n  \r\n}\r\n\r\ninitRender(Dative);\r\n/**\r\n * Destroys the current instance\r\n */\r\nDative.prototype.$destroy = function () {\r\n  var $this = this;\r\n  if ($this.isUnmounted) {\r\n    warn(\"Instance can't be unmounted again\");\r\n  }\r\n  if ($this.isMounted) {\r\n    this.$el.firstChild.remove();\r\n    delete this.onmounted;\r\n    delete this.$el.dative_app;\r\n    $this.isUnmounted = true;\r\n    $this.isMounted = false;\r\n    $this.ondestroy();\r\n  } else {\r\n    warn(\"Cannot use $destroy() on an instance that's not mounted\");\r\n  }\r\n};\r\n\r\nDative.prototype.proxy = proxy;\r\nDative.prototype.use = use;\r\n\r\nvar configs = { enumerable: true, configurable: true };\r\nconfigs.get = function () {\r\n  return config;\r\n};\r\n{\r\n  configs.set = function () {\r\n    warn(\r\n      \"Do not replace the Dative.config object, set individual fields instead.\"\r\n    );\r\n  };\r\n}\r\nObject.defineProperty(Dative, \"config\", configs);\r\nvar WarnReserved$ = function (key, target) {\r\n  warn(\r\n    [\"`\" + key + \"` is a reserved property.\\n\", \"Try using another name\"].join(\r\n      \"\"\r\n    ),\r\n    target\r\n  );\r\n};\r\n\r\n/**\r\n * @param {string} name name of the property\r\n * @param {Function} callback callback function\r\n */\r\n\r\nvar property = function (name, callback) {\r\n  if (ReservedProperties(name)) {\r\n    WarnReserved$(name);\r\n    return;\r\n  }\r\n  Object.defineProperty(Dative.prototype, \"$\" + name, {\r\n    get: function propertygetter() {\r\n      return callback();\r\n    },\r\n    set: function propertysetter(v) {\r\n      warn(\"Dative.defineProperty is readonly\");\r\n    },\r\n    configurable: true,\r\n    enumerable: true,\r\n  });\r\n};\r\n\r\n/**\r\n * @param {any} options\r\n */\r\nvar defineApp = function defineApp(options) {\r\n  if (options.data) {\r\n    if (typeof options.data !== \"function\") {\r\n      warn(`Data should be a function,But got ${typeof options.data}`);\r\n      return;\r\n    }\r\n  }\r\n  return new Dative(options);\r\n};\r\n\r\nfunction initProps(options, dative, prop) {\r\n  let props = options.props;\r\n  props = dative.props = props || Object.create(null);\r\n  if (!Array.isArray(props) && !isPlainObject(props)) {\r\n    props = {};\r\n    warn(\"options props should return an object.\");\r\n  }\r\n\r\n  const props_ = prop;\r\n  for (let propss in props_) {\r\n    if (typeof prop[propss] === \"string\" && dative.sanitize) {\r\n      prop[propss] = sanitizeStr(prop[propss]);\r\n    }\r\n    if (!isReserved())\r\n      dative.proxyProps(\r\n        `props`,\r\n        propss,\r\n        props_[propss].type || props_[propss],\r\n        propss,\r\n        props_[propss].default\r\n      );\r\n  }\r\n  observe(props);\r\n}\r\nfunction proxyProps(sourceKey, key, value, name, defaultvalue) {\r\n  let self = this;\r\n  Object.defineProperty(self, key, {\r\n    configurable: true,\r\n    enumerable: true,\r\n    get: function reactivepropsgetter() {\r\n      var va = self[sourceKey][key];\r\n      if (value === String && typeof va !== \"string\") {\r\n        warn(\r\n          'Props \"' +\r\n            name +\r\n            '\" requires String as the value but got ' +\r\n            typeof va\r\n        );\r\n        return \"undefined\";\r\n      } else if (value === Number && typeof va !== \"number\") {\r\n        warn(\r\n          'Props \"' +\r\n            name +\r\n            '\" requires Number as the value but got ' +\r\n            typeof va\r\n        );\r\n        return \"undefined\";\r\n      } else if (value === Number && typeof va !== \"number\") {\r\n        warn(\r\n          'Props \"' +\r\n            name +\r\n            '\" requires Number as the value but got ' +\r\n            typeof va\r\n        );\r\n        return \"undefined\";\r\n      } else if (value === Function && typeof va !== \"function\") {\r\n        warn(\r\n          'Props \"' +\r\n            name +\r\n            '\" requires Function as the value but got ' +\r\n            typeof va\r\n        );\r\n        return \"undefined\";\r\n      } else if (value === Object && typeof va !== \"object\") {\r\n        warn(\r\n          'Props \"' +\r\n            name +\r\n            '\" requires Object as the value but got ' +\r\n            typeof va\r\n        );\r\n        return \"undefined\";\r\n      } else if (value === Array && type(va) !== \"array\") {\r\n        warn(\r\n          'Props \"' +\r\n            name +\r\n            '\" requires Array as the value but got ' +\r\n            typeof va\r\n        );\r\n        return \"undefined\";\r\n      } else if (value === Boolean && typeof va !== \"boolean\") {\r\n        warn(\r\n          'Props \"' +\r\n            name +\r\n            '\" requires Boolean as the value but got ' +\r\n            typeof va\r\n        );\r\n        return \"undefined\";\r\n      } else if (value === null) {\r\n        return self[sourceKey][key] || defaultvalue;\r\n      } else {\r\n        return self[sourceKey][key] || defaultvalue;\r\n      }\r\n    },\r\n    set: function reactivepropssetter(newVal) {\r\n      if (value === String && typeof newVal !== \"string\") {\r\n        warn(\r\n          'Props \"' +\r\n            name +\r\n            '\" requires String as the value but got ' +\r\n            typeof newVal\r\n        );\r\n        return;\r\n      } else if (value === Number && typeof newVal !== \"number\") {\r\n        warn(\r\n          'Props \"' +\r\n            name +\r\n            '\" requires Number as the value but got ' +\r\n            typeof newVal\r\n        );\r\n        return;\r\n      } else if (value === Function && typeof newVal !== \"function\") {\r\n        warn(\r\n          'Props \"' +\r\n            name +\r\n            '\" requires Function as the value but got ' +\r\n            typeof newVal\r\n        );\r\n        return;\r\n      } else if (value === Object && typeof newVal !== \"object\") {\r\n        warn(\r\n          'Props \"' +\r\n            name +\r\n            '\" requires Object as the value but got ' +\r\n            typeof newVal\r\n        );\r\n        return;\r\n      } else if (value === Boolean && typeof newVal !== \"boolean\") {\r\n        warn(\r\n          'Props \"' +\r\n            name +\r\n            '\" requires Boolean as the value but got ' +\r\n            typeof newVal\r\n        );\r\n        return;\r\n      } else if (value === Array && type(newVal) !== \"array\") {\r\n        warn(\r\n          'Props \"' +\r\n            name +\r\n            '\" requires Array as the value but got ' +\r\n            typeof newVal\r\n        );\r\n        return;\r\n      } else if (value === null) {\r\n        self[sourceKey][key] = newVal;\r\n        self.render();\r\n      } else {\r\n        self[sourceKey][key] = newVal;\r\n        self.render();\r\n        return true;\r\n      }\r\n    },\r\n  });\r\n}\r\n\r\nvar PREFIX = \"/* Dative.js component styles */\";\r\nfunction makeStyle(id) {\r\n  if (doc) {\r\n    var el = doc.createElement(\"style\");\r\n    el.type = \"text/css\";\r\n    el.setAttribute(\"data-dative-css\", id || \"\");\r\n    doc.getElementsByTagName(\"head\")[0].appendChild(el);\r\n    return el;\r\n  }\r\n}\r\nfunction getStyle(id) {\r\n  return (\r\n    doc &&\r\n    (doc.querySelector('[data-dative-css=\"' + id + '\"]') || makeStyle(id))\r\n  );\r\n}\r\n\r\nvar remove = /\\/\\*(?:[\\s\\S]*?)\\*\\//g;\r\nvar escape =\r\n  /url\\(\\s*(['\"])(?:\\\\[\\s\\S]|(?!\\1).)*\\1\\s*\\)|url\\((?:\\\\[\\s\\S]|[^)])*\\)|(['\"])(?:\\\\[\\s\\S]|(?!\\2).)*\\2/gi;\r\nvar value = /\\0(\\d+)/g;\r\n/**\r\n * Removes comments and strings from the given CSS to make it easier to parse.\r\n *\r\n * @param css\r\n * @param callback receives the cleaned CSS\r\n * @param additionalReplaceRules\r\n */\r\nfunction cleanCss(css, callback, additionalReplaceRules) {\r\n  if (additionalReplaceRules === void 0) {\r\n    additionalReplaceRules = [];\r\n  }\r\n  var values = [];\r\n  css = css\r\n    .replace(escape, function (match) {\r\n      return \"\\0\" + (values.push(match) - 1);\r\n    })\r\n    .replace(remove, \"\");\r\n  additionalReplaceRules.forEach(function (pattern) {\r\n    css = css.replace(pattern, function (match) {\r\n      return \"\\0\" + (values.push(match) - 1);\r\n    });\r\n  });\r\n  var reconstruct = function (css) {\r\n    return css.replace(value, function (_match, n) {\r\n      return values[n];\r\n    });\r\n  };\r\n  return callback(css, reconstruct);\r\n}\r\nvar selectorsPattern = /(?:^|\\}|\\{|\\x01)\\s*([^\\{\\}\\0\\x01]+)\\s*(?=\\{)/g;\r\nvar importPattern = /@import\\s*\\([^)]*\\)\\s*;?/gi;\r\nvar importEndPattern = /\\x01/g;\r\nvar keyframesDeclarationPattern =\r\n  /@keyframes\\s+[^\\{\\}]+\\s*\\{(?:[^{}]+|\\{[^{}]+})*}/gi;\r\nvar selectorUnitPattern =\r\n  /((?:(?:\\[[^\\]]+\\])|(?:[^\\s\\+\\>~:]))+)((?:::?[^\\s\\+\\>\\~\\(:]+(?:\\([^\\)]+\\))?)*\\s*[\\s\\+\\>\\~]?)\\s*/g;\r\nvar excludePattern = /^(?:@|\\d+%)/;\r\nvar globe = /^(?:\\:|\\d+%)/g;\r\nvar dataRvcGuidPattern = /\\[data-dative-css~=\"[a-z0-9-]\"]/g;\r\nfunction trim(str) {\r\n  return str.trim();\r\n}\r\nfunction extractString(unit) {\r\n  return unit.str;\r\n}\r\nfunction transformSelector(selector, parent) {\r\n  var selectorUnits = [];\r\n  var match;\r\n  while ((match = selectorUnitPattern.exec(selector))) {\r\n    selectorUnits.push({\r\n      str: match[0],\r\n      base: match[1],\r\n      modifiers: match[2],\r\n    });\r\n  }\r\n  // For each simple selector within the selector, we need to create a version\r\n  // that a) combines with the id, and b) is inside the id\r\n  var base = selectorUnits.map(extractString);\r\n  var transformed = [];\r\n  var i = selectorUnits.length;\r\n  while (i--) {\r\n    var appended = base.slice();\r\n    // Pseudo-selectors should go after the attribute selector\r\n    var unit = selectorUnits[i];\r\n    appended[i] = unit.base + parent + unit.modifiers || \"\";\r\n    var prepended = base.slice();\r\n    prepended[i] = parent + \" \" + prepended[i];\r\n    transformed.push(appended.join(\" \"), prepended.join(\" \"));\r\n  }\r\n  return transformed.join(\", \");\r\n}\r\nfunction transformCss(css, id) {\r\n  var dataAttr = '[data-dative-css~=\"' + id + '\"]';\r\n  var transformed;\r\n  if (dataRvcGuidPattern.test(css)) {\r\n    transformed = css.replace(dataRvcGuidPattern, dataAttr);\r\n  } else {\r\n    transformed = cleanCss(\r\n      css,\r\n      function (css, reconstruct) {\r\n        css = css\r\n          .replace(importPattern, \"$&\\x01\")\r\n          .replace(selectorsPattern, function (match, $1) {\r\n            // don't transform at-rules and keyframe declarations\r\n            if (excludePattern.test($1)) {\r\n              return match;\r\n            }\r\n            if (globe.test($1)) return match;\r\n            var selectors = $1.split(\",\").map(trim);\r\n            var transformed =\r\n              selectors\r\n                .map(function (selector) {\r\n                  return transformSelector(selector, dataAttr);\r\n                })\r\n                .join(\", \") + \" \";\r\n            return match.replace($1, transformed);\r\n          })\r\n          .replace(importEndPattern, \"\");\r\n        return reconstruct(css);\r\n      },\r\n      [keyframesDeclarationPattern]\r\n    );\r\n  }\r\n  return PREFIX + \"\\n\" + transformed;\r\n}\r\n\r\nvar extend = function extend(options) {\r\n  if (options.el || options.target) {\r\n    warn(\r\n      `Dative.extend doesn't accept ${\r\n        options.el\r\n          ? \"el: \" + options.el\r\n          : options.target\r\n          ? \"target: \" + options.target\r\n          : \"\"\r\n      }.\\nThe el or target should be pass to the var app = Dative.extend({...});\\n new app({ ${\r\n        options.el\r\n          ? \"el: '\" + options.el + \"'\"\r\n          : options.target\r\n          ? \"target: '\" + options.target + \"'\"\r\n          : \"\"\r\n      }',.... })`\r\n    );\r\n    return;\r\n  }\r\n  /** @type {Dative} */\r\n  var Parent = this;\r\n  function DativeComponent(initialProps) {\r\n    if (!(this instanceof DativeComponent)) {\r\n      warn(\"Dative.extend class has to be called with the `new` keyboard\");\r\n      return;\r\n    }\r\n    var $this = this;\r\n    $this.options = options;\r\n    if (initialProps.el || initialProps.target) {\r\n      $this.options.el = initialProps.el || initialProps.target;\r\n    } else {\r\n      $this.options.el = doc.createDocumentFragment();\r\n    }\r\n    var $plugins = $this.options.use || [];\r\n    if ($plugins) {\r\n      if (Array.isArray($this.options.use)) {\r\n        $this.use.apply($this, $this.options.use);\r\n      }\r\n    }\r\n\r\n    if ($this.options.data) {\r\n      if (typeof $this.options.data !== \"function\") {\r\n        tip(\r\n          `Data should be a function,But got ${typeof $this.options.data}\\n ${\r\n            typeof $this.options.data === \"object\"\r\n              ? \"Replace data:{ \\n \\t msg: '....' \\n } with data(){ return{ \\n \\t msg:'....' \\n } }\"\r\n              : \"\"\r\n          }`\r\n        );\r\n      }\r\n    }\r\n\r\n    if (!$this.options.attach && initialProps.attach) {\r\n      $this.options.attach = initialProps.attach;\r\n    }\r\n\r\n    if (options.props && initialProps.props)\r\n      initProps(initialProps, $this, options.props);\r\n\r\n    _init($this);\r\n    var styles = $this.options.css;\r\n    $this.cssScoped = $this.options.cssScoped || true;\r\n    const scoped = $this.cssScoped;\r\n    if (styles) {\r\n      if (styles[0] === \"#\") {\r\n        styles = idToTemplate$1(styles);\r\n      }\r\n\r\n      var compiled_styles = parse(styles, $this);\r\n      if (scoped) {\r\n        var compiled = transformCss(compiled_styles, $this.cssId_);\r\n        $this.css = {\r\n          value: compiled_styles,\r\n          transformed: { active: true, value: compiled },\r\n        };\r\n        if (doc.querySelector(\"style[data-dative-css]\")) {\r\n          var st = doc.querySelector(\"style[data-dative-css]\");\r\n          st.innerHTML = st.innerHTML + compiled;\r\n        } else {\r\n          var style = getStyle();\r\n          style.innerHTML = compiled;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  initRender(DativeComponent);\r\n  var proto = Object.create(Parent.prototype);\r\n  proto.constructor = DativeComponent;\r\n  //DativeComponent['super']\r\n  DativeComponent.prototype = proto;\r\n  DativeComponent.prototype.proxyProps = proxyProps;\r\n\r\n  Object.defineProperties(DativeComponent, {\r\n    extend: { value: Parent.extend, configurable: true, enumerable: true },\r\n    defineApp: {\r\n      value: Parent.defineApp,\r\n      configurable: true,\r\n      enumerable: true,\r\n    },\r\n    defineProperty: {\r\n      value: Parent.defineProperty,\r\n      configurable: true,\r\n      enumerable: true,\r\n    },\r\n    utlis: {\r\n      value: { warn: Parent.utlis.warn },\r\n      configurable: true,\r\n      enumerable: true,\r\n    },\r\n    version: { value: Parent.version, configurable: true, enumerable: true },\r\n  });\r\n  return DativeComponent;\r\n};\r\n\r\nvar __version__ = \"V2.0.0-alpha\";\r\nDative.version = __version__;\r\nDative.defineProperty = property;\r\nDative.defineApp = defineApp;\r\nObject.defineProperty(Dative, \"utlis\", {\r\n  value: {\r\n    warn: warn,\r\n  },\r\n  configurable: true,\r\n  enumerable: true,\r\n});\r\nDative.extend = extend;\r\n\r\nvar deprecatedMethods = [\r\n  \"use\",\r\n  \"importStyle\",\r\n  \"ref\",\r\n  \"reactive\",\r\n  \"watchEffect\",\r\n];\r\n\r\ndeprecatedMethods.forEach((methods) => {\r\n  Object.defineProperty(Dative, methods, {\r\n    /** @deprecated */\r\n    value: function () {\r\n      var deprecate = depd(methods);\r\n      // tip(`${methods} Has been deprecated in v2-alpha`)\r\n      deprecate(`Has been deprecated in v2-alpha`);\r\n    },\r\n    configurable: true,\r\n    enumerable: true,\r\n  });\r\n});\r\n\r\nif (inBrowser) {\r\n  var welcomeIntro_1 = [\r\n    \"%cDative.js %c\" + Dative.version + \" %cin debug mode, %cmore...\",\r\n    \"color: #FF3E00;font-weight: bold;\",\r\n    \"color: #111; font-weight: 600;\",\r\n    \"color: rgb(85, 85, 255); font-weight: normal;\",\r\n    \"color: rgb(82, 140, 224); font-weight: normal; text-decoration: underline;\",\r\n  ];\r\n  var message = [\r\n    `You're running Dative ${Dative.version} in debug mode - messages will be printed to the console to help you fix problems and optimise your application.\r\n    \r\n  To disable debug mode, add this line at the start of your app:\r\n  Dative.config.slient = true;\r\n  \r\n  Get help and support:\r\n      http://dativejs.js.org`,\r\n  ];\r\n  if (!config.slient) {\r\n    if (typeof console !== \"undefined\") {\r\n      var hasCollpased = !!console.groupCollapsed;\r\n      if (hasCollpased) {\r\n        console[hasCollpased ? \"groupCollapsed\" : \"group\"].apply(\r\n          console,\r\n          welcomeIntro_1\r\n        );\r\n        console[console.info ? \"info\" : \"log\"].apply(console, message);\r\n        console.groupEnd();\r\n      } else {\r\n        console[console.info ? \"info\" : \"log\"].apply(console, message);\r\n      }\r\n    }\r\n  }\r\n}\r\nexport default Dative;\r\nexport {\r\n  defineApp,\r\n  property as defineProperty,\r\n  __version__ as version,\r\n  warn,\r\n};"],"names":["doc","undefined","document","config","slient","mode","noop","CurrentInstance","warn","msg","others","console","error","isReserved","string","char","charCodeAt","isPlainObject","object","proto","ctor","class2type","toString","hasOwn","hasOwnProperty","fnToString","ObjectFunctionString","call","Object","getPrototypeOf","constructor","uid","Dep$1","this","id","subs","addSub","sub","notify","update","defineReactive","key","value","dep","defineProperty","get","target","set","newValue","observe","data","type","split","forEach","toLowerCase","_type$$","obj","sanitizeStr","replace","c","_typeof$1","Symbol","iterator","prototype","ifparse","_","elseifparse","elseparse","withparse","debugparse","commentparse","charr","variableparse","isFunction","val","inBrowser","window","string$","parse","html","options","elem","trim","match","re","reExp","code","cursor","result","add","line","js","includes","each","startsWith","endsWith","space","cx","join","d","exec","slice","index","length","substr","Function","apply","err","name","message","source","start","end","lines","newlineSequences","filter","idx","count","res","i","j","push","repeat","Math","max","String","lineLength","newLineSeqLength","pad","min","generateCodeFrame","template","getNodeContent","node","childNodes","textContent","isDifferentNode","node1","node2","nodeType","tagName","src","compiler","polyps","domMap","templateMap","querySelectorAll","temps","temp","fragg","createElement","innerHTML","replaceWith","append","cloneNode","ahead","existingNodes","Array","from","find","branch","aheadInTree","before","polyp","matches","templateContent","fragment","createDocumentFragment","appendChild","templateNodes","extra","remove","trimExtraNodes","processor","Element","str","DOMParser","parseFromString","body","childElementCount","lastChild","querySelector","stringToHTML$__","event","expression","evt","_$","outerHTML","attributeparser","elem$$","self","warnDuplicate","property","query","el","shadowRoot","host","s4","floor","random","substring","prefix","subject","initRender","Dative","kebabToCamel","ignorePrefix","ignoredStr","RegExp","camelStr","s","reduce","r","toUpperCase","m","p","$this","render","item","valps","warnDuplicate$","isDirective","fadeIn","duration","delay","once","op","animate","opacity","display","easing","timer","setInterval","clearInterval","pause","transition","cancel","bounce","animationTimingFunction","transform","iterations","Infinity","$app","hasAttribute","getAttribute","idToTemplate","isMounted","isUnmounted","$el","setAttribute","documentElement","head","dative_app","dv","attached","map","component","css","cssId_","getAttributeNames","eventName","handlerName","events","vall","bind","addEventListener","removeAttribute","transyName","modifiers","transitionMap","enter","klass","classList","leave","$value","style","animation_name","checkani","animationName","ease","setStyle","Number","ref","refName","$ref","propName","dataName","queueMicrotask","keys","directives","$name","binding","args","_dv_directives_","active","attach","makeMap","expectsLowerCase","create","list","lists","detach","indexOf","splice","BuiltinNames","$$uid","ReservedProperties","DeprecatedError","Error","super","depd","namespace","_init","oncreated","onmounted","methods","ondestroy","sanitize","dative","proxy","initData","_dv_function","initMethods","_uid","store","deprecated$","dyte","version","deprecated$$","computed","enumerable","configurable","property$","prop","WarnReserved$","$plugins","use","isArray","$destroy","firstChild","sourceKey","newVal","arguments$1","arguments","_this","plugins","_i","install","instance","configs","callback","v","defineApp","proxyProps","defaultvalue","va","Boolean","getStyle","getElementsByTagName","makeStyle","escape","selectorsPattern","importPattern","importEndPattern","keyframesDeclarationPattern","selectorUnitPattern","excludePattern","globe","dataRvcGuidPattern","extractString","unit","transformCss","dataAttr","PREFIX","test","additionalReplaceRules","values","pattern","_match","n","cleanCss","reconstruct","$1","transformed","selector","parent","selectorUnits","base","appended","prepended","transformSelector","__version__","extend","Parent","DativeComponent","defineProperties","utlis","initialProps","tip","props","props_","propss","default","initProps","styles","cssScoped","scoped","idToTemplate$1","compiled_styles","compiled","st","deprecate","welcomeIntro_1","hasCollpased","groupCollapsed","info","groupEnd"],"mappings":"oCAWA,IAAIA,OAAmBC,IAAbC,SAAyBA,SAAW,GAoB1CC,EAAS,CACXC,UAnBeJ,EAoBfK,KAAM,cAENC,KAAM,aACNC,gBAAiB,MAQnB,SAASC,EAAKC,KAAQC,IACE,IAAlBP,EAAOC,QACTO,QAAQC,MAAM,kBAAmBH,KAAQC,GAgC7C,SAASG,EAAWC,GAElB,MAAMC,EAAO,GAAGD,IAASE,WAAW,GACpC,OAAgB,KAATD,GAA0B,KAATA,EAG1B,SAASE,EAAcC,GACrB,IAAIC,EACFC,EACAC,EAAa,GACbC,EAAWD,EAAWC,SACtBC,EAASF,EAAWG,eACpBC,EAAaF,EAAOD,SACpBI,EAAuBD,EAAWE,KAAKC,QAEzC,SAAKV,GAAoC,oBAA1BI,EAASK,KAAKT,MAI7BC,EAAQS,OAAOC,eAAeX,IACzBC,IAILC,EAAOG,EAAOI,KAAKR,EAAO,gBAAkBA,EAAMW,YAEhC,mBAATV,GAAuBK,EAAWE,KAAKP,KAAUM,IAG5D,IAAIK,EAAM,EACV,MAAMC,EACJF,cACEG,KAAKC,GAAKH,IACVE,KAAKE,KAAO,GAEdC,OAAOC,GAEAJ,KAAKE,KAAKE,EAAIN,OAAME,KAAKE,KAAKE,EAAIN,KAAOM,GAEhDC,SACE,IAAK,IAAIP,KAAOE,KAAKE,KACnBF,KAAKE,KAAKJ,GAAKQ,UAKrB,SAASC,EAAetB,EAAQuB,GAC9B,IAAIC,EAAQxB,EAAOuB,GACjBE,EAAM,IAAIX,EAWZ,OAVAJ,OAAOgB,eAAe1B,EAAQuB,EAAK,CACjCI,IAAG,KACDb,EAAMc,QAAUH,EAAIP,OAAOJ,EAAMc,QAC1BJ,GAETK,IAAIC,GACFN,EAAQM,EACRL,EAAIL,YAGDpB,EAET,SAAS+B,EAAQC,GACf,GAAqB,UAjFvB,SAAiBhC,GACf,IAAIG,EAAa,GACf8B,EAAO9B,EAAWC,SAASK,KAAKT,GAIlC,OAAc,MAAVA,EACKA,EAAS,IAHd,uEAMOkC,MAAM,KAAKC,SAASF,IAC7B9B,EAAW,WAAW8B,MAAWA,EAAKG,iBAGf,iBAAXpC,GAAyC,mBAAXA,EACxCG,EAAW8B,IAAS,gBACbjC,GAiEPqC,CAAQL,GAAZ,CACA,IAAIM,EACJ,IAAK,IAAIf,KAAOS,EACdM,EAAMhB,EAAeU,EAAMT,GAE7B,OAAOe,GAkBT,SAASC,EAAYD,GACnB,OAAOA,EAAIE,QAAQ,gBAAiB,IAAIA,QAAQ,eAAe,SAAUC,GACvE,MAAO,KAAKA,EAAE3C,WAAW,SA1C7BgB,EAAMc,OAAS,KAmEf,IAAIc,EACgB,mBAAXC,QAAoD,iBAApBA,OAAOC,SAC1C,SAAUN,GACR,cAAcA,GAEhB,SAAUA,GACR,OAAOA,GACa,mBAAXK,QACPL,EAAI1B,cAAgB+B,QACpBL,IAAQK,OAAOE,UACb,gBACOP,GAGnB,SAASL,EAAKjC,GACZ,IAAIG,EAAa,GACb8B,EAAO9B,EAAWC,SAASK,KAAKT,GAIpC,OAAc,MAAVA,EAAuB,GAAKA,GAF9B,uEAISkC,MAAM,KAAKC,SAAQ,SAAUF,GACtC,OAAQ9B,EAAW,WAAa8B,EAAO,KAAOA,EAAKG,iBAInD,iBADwB,IAAXpC,EAAyB,YAAc0C,EAAU1C,KAChC,mBAAXA,EACjBG,EAAW8B,IAAS,cACF,IAAXjC,EACP,YACA0C,EAAU1C,IAkChB,SAAS8C,EAAQC,EAAGlD,GAClB,MAAO,OAAOA,OAEhB,SAASmD,EAAYD,EAAGlD,GACtB,MAAO,cAAcA,OAEvB,SAASoD,EAAUF,EAAGlD,GACpB,MAAO,WAGT,SAASqD,EAAUH,EAAGlD,GACpB,MAAO,SAASA,OAGlB,SAASsD,EAAWJ,EAAGlD,GACrB,MAAO,gDAAgDA,mBAGzD,SAASuD,EAAaL,EAAGlD,EAAMwD,GAC7B,MAAO,OAAOA,QAGhB,SAASC,EAAcP,EAAGlD,GACxB,MAAO,OAAOA,KAGhB,SAAS0D,EAAWC,GAClB,MAAsB,mBAARA,EAGhB,IAAIC,EAA8B,oBAAXC,OAqDvB,IAAIC,EAAU,KAEd,SAASC,EAAMC,EAAMC,EAASC,GAC5BF,EAAOA,EAAKG,OACZ,IAMEC,EANEC,EAAK,aACPC,EACE,6HACFC,EAAO,yBACPC,EAAS,EACTC,EAAS,GAEXF,GAAQ,0CAyBR,IAxBA,IAAIG,EAAM,SAAUC,EAAMC,GAsBxB,OApBKL,GADLK,EACaD,EAAKP,MAAME,GAChBK,EACGhC,QAAQ,oBAjId,CAACO,EAAGlD,KACJA,EAAK6E,SAAS,OACjBpF,EAAK,sCAGP,IAAIqF,GADJ9E,EAAOA,EAAK2C,QAAQ,KAAM,OACVN,MAAM,MAYtB,MAAO,cACLyC,EAAK,GAAGD,SAAS,KAZnB,SAAWjC,GACT,GAAIA,EAAE,GAAGmC,WAAW,MAAQnC,EAAE,GAAGP,MAAM,MAAQO,EAAE,GAAGoC,SAAS,KAAM,CACjE,IAAIC,EAAQrC,EAAE,GAAGP,MAAM,KACvB,IAAK,UAAY4C,EAAO,CACtB,IAAIC,EAAKD,EAAME,KAAK,KACpB,MAAO,IAAIvC,EAAE,OAAOsC,MAGxB,MAAO,IAAItC,EAAE,MAAMA,EAAE,MAKjBwC,CAAEN,EAAK,GAAGzC,MAAM,OAChByC,EAAK,GAAGC,WAAW,MAAQD,EAAK,GAAGE,SAAS,KAC5CF,EAAK,WAGRA,EAAK,GAAGC,WAAW,MAAQD,EAAK,GAAGD,SAAS,KACzC,kBAAkBC,EAAK,GAAGX,UAC1BW,EAAK,WAwGAnC,QAAQ,UAAW,OACnBA,QAAQ,iBAAkBM,GAC1BN,QAAQ,sBAAuBQ,GAC/BR,QAAQ,SAAUS,GAClBT,QAAQ,QAAS,KACjBA,QAAQ,mBAAoBU,GAC5BV,QAAQ,WAAYO,GAAM,MAC1BP,QAAQ,uBAAwBW,GAChCX,QAAQ,mBAAoBc,GAAiB,KAChD,MAAQkB,EAAKhC,QAAQ,oBAAqBY,GAAgB,OAEpD,IAARoB,EACI,OACAA,EAAKhC,QAAQmB,EAAS,OAAOnB,QAAQ,OAAQ,QAC7C,MACA,GAEH+B,GAEDN,EAAQC,EAAGgB,KAAKrB,IACtBU,EAAIV,EAAKsB,MAAMd,EAAQJ,EAAMmB,OAA7Bb,CAAqCN,EAAM,IAAI,GAC/CI,EAASJ,EAAMmB,MAAQnB,EAAM,GAAGoB,OAGlCd,EAAIV,EAAKyB,OAAOjB,EAAQR,EAAKwB,OAAShB,IACtCD,GAAQA,EAAO,wBAAwB5B,QAAQ,QAAS,IAAIwB,OAC5D,IACEM,EAAS,IAAIiB,SAAS,MAAOnB,GAAMoB,MAAM1B,EAAS,CAACA,IACnD,MAAO2B,GACPhG,QAAQC,MACN,YACE+F,EAAIC,KACJ,KACAD,EAAIE,QACJ,SApGR,SAA2BC,EAAQC,EAAQ,EAAGC,EAAMF,EAAOP,QAKzD,IAAIU,EAAQH,EAAO1D,MAAM,WAEzB,MAAM8D,EAAmBD,EAAME,QAAO,CAAClD,EAAGmD,IAAQA,EAAM,GAAM,IAC9DH,EAAQA,EAAME,QAAO,CAAClD,EAAGmD,IAAQA,EAAM,GAAM,IAC7C,IAAIC,EAAQ,EACZ,MAAMC,EAAM,GACZ,IAAK,IAAIC,EAAI,EAAGA,EAAIN,EAAMV,OAAQgB,IAIhC,GAHAF,GACEJ,EAAMM,GAAGhB,QACPW,EAAiBK,IAAML,EAAiBK,GAAGhB,QAAW,GACtDc,GAASN,EAAO,CAClB,IAAK,IAAIS,EAAID,EAlBL,EAkBgBC,GAAKD,EAlBrB,GAkBkCP,EAAMK,EAAOG,IAAK,CAC1D,GAAIA,EAAI,GAAKA,GAAKP,EAAMV,OAAQ,SAChC,MAAMb,EAAO8B,EAAI,EACjBF,EAAIG,KACF,GAAG/B,IAAO,IAAIgC,OAAOC,KAAKC,IAAI,EAAIC,OAAOnC,GAAMa,OAAQ,SACrDU,EAAMO,MAGV,MAAMM,EAAab,EAAMO,GAAGjB,OACtBwB,EACHb,EAAiBM,IAAMN,EAAiBM,GAAGjB,QAAW,EACzD,GAAIiB,IAAMD,EAAG,CAEX,MAAMS,EAAMjB,GAASM,GAASS,EAAaC,IACrCxB,EAASoB,KAAKC,IAClB,EACAZ,EAAMK,EAAQS,EAAaE,EAAMhB,EAAMD,GAEzCO,EAAIG,KAAK,SAAW,IAAIC,OAAOM,GAAO,IAAIN,OAAOnB,SAC5C,GAAIiB,EAAID,EAAG,CAChB,GAAIP,EAAMK,EAAO,CACf,MAAMd,EAASoB,KAAKC,IAAID,KAAKM,IAAIjB,EAAMK,EAAOS,GAAa,GAC3DR,EAAIG,KAAK,SAAW,IAAIC,OAAOnB,IAEjCc,GAASS,EAAaC,GAG1B,MAGJ,OAAOT,EAAIpB,KAAK,MAuDVgC,CAAkBlD,EAAQmD,WAGhC,OAAO3C,EAgBT,SAAS4C,EAAeC,GACtB,OAAOA,EAAKC,YAAcD,EAAKC,WAAW/B,OAAS,KAAO8B,EAAKE,YASjE,SAASC,EAAgBC,EAAOC,GAC9B,OACED,EAAME,WAAaD,EAAMC,UACzBF,EAAMG,UAAYF,EAAME,SACxBH,EAAMvG,KAAOwG,EAAMxG,IACnBuG,EAAMI,MAAQH,EAAMG,IAsCxB,SAASC,EAASX,EAAUlD,EAAM8D,EAAS,IAEzC,IAAIC,EAAS/D,EAAKqD,WACdW,EAAcd,EAASG,WAE3BW,EAAY5F,SAAQ,SAAUgF,EAAM/B,GAClC,GAAI6B,EAASe,iBAAiB,YAAa,CACzC,IAAIC,EAAQhB,EAASe,iBAAiB,YACtC,IAAK,IAAIE,KAAQD,EAAO,CACtB,MAAME,EAAQnJ,SAASoJ,cAAc,OACrCD,EAAME,UAAYH,EAAKG,UACvBH,EAAKI,YAAYH,IAIrB,IAAKL,EAAO1C,GAEV,YADArB,EAAKwE,OAAOpB,EAAKqB,WAAU,IAI7B,GAAIlB,EAAgBH,EAAMW,EAAO1C,IAAS,CAExC,IAAIqD,EAjDV,SAAqBtB,EAAMuB,EAAetD,GACxC,OAAOuD,MAAMC,KAAKF,GACfvD,MAAMC,EAAQ,GACdyD,MAAK,SAAUC,GACd,OAAQxB,EAAgBH,EAAM2B,MA6ClBC,CAAY5B,EAAMW,EAAQ1C,GAGtC,IAAKqD,EAEH,YADAX,EAAO1C,GAAO4D,OAAO7B,EAAKqB,WAAU,IAKtCV,EAAO1C,GAAO4D,OAAOP,GAOvB,GAJcZ,EAAO5B,QAAO,SAAUgD,GACpC,OAAQ,CAAC,EAAG,GAAGvE,SAASyC,EAAKM,WAAaN,EAAK+B,QAAQD,MAG7C5D,OAAS,EAAG,OAExB,IAAI8D,EAAkBjC,EAAeC,GAMrC,GALIgC,GAAmBA,IAAoBjC,EAAeY,EAAO1C,MAC/D0C,EAAO1C,GAAOiC,YAAc8B,GAI1BrB,EAAO1C,GAAOgC,WAAW/B,OAAS,GAAK8B,EAAKC,WAAW/B,OAAS,EAClEyC,EAAO1C,GAAOiD,UAAY,OAD5B,CAOA,GAAIP,EAAO1C,GAAOgC,WAAW/B,OAAS,GAAK8B,EAAKC,WAAW/B,OAAS,EAAG,CACrE,IAAI+D,EAAWpK,SAASqK,yBAGxB,OAFAzB,EAAST,EAAMiC,EAAUvB,QACzBC,EAAO1C,GAAOkE,YAAYF,GAKxBjC,EAAKC,WAAW/B,OAAS,GAC3BuC,EAAST,EAAMW,EAAO1C,GAAQyC,OA5EpC,SAAwBa,EAAea,GACrC,IAAIC,EAAQd,EAAcrD,OAASkE,EAAclE,OACjD,KAAImE,EAAQ,GACZ,KAAOA,EAAQ,EAAGA,IAChBd,EAAcA,EAAcrD,OAAS,GAAGoE,SA6E1CC,CAAe5B,EAAQC,GAEzB,IAAI4B,EAAY,SAAU5F,EAAMkD,EAAUjF,GACxC,GAAI+B,aAAgB6F,QAAS,CAC3B,IAAI1B,GAhhBc2B,EAghBM5C,GA/gBb,IAAI6C,WACAC,gBAAgBF,EAAK,aAC3BG,MA8gBT,GAAI9B,EAAK+B,kBAAoB,EAU3B,YATA3K,EACE,uDACA,uCACA4I,EAAKG,UACL,KACE,IAAI7B,OACF0B,EAAKG,UAAUhD,OAAS6C,EAAKgC,UAAU7C,YAAYhC,OAAS,IAKpE,GAAI6C,EAAKiC,cAAc,UAIrB,YAHA7K,EACE,sEAKA4I,EAAKiC,cAAc,UACrB7K,EAAK,qEAGPsI,EAjKJ,SAAyBiC,GAKvB,OAHa,IAAIC,WACAC,gBAAgBF,EAAK,aAE3BG,MAAQhL,SAASoJ,cAAc,QA4J/BgC,CAAgBxG,EAAMqD,EAAUjF,IAAQ+B,QAEjDzE,SAAYyE,EAAO,eA1iBvB,IAAsB8F,GA6iBtB,SAASQ,EAAMrI,EAAMsI,EAAYvG,EAAMwG,GACrC,IAAIC,EAAK,wDACTA,GAAM,yBAA2BF,EAAa,qBAC9CE,GAAU,wBACV,IACE,IAAIjF,SAAS,MAAO,SAAU,QAASiF,GAAIhF,MAAMxD,EAAM,CAACA,EAAMuI,EAAKxG,IACnE,MAAO0B,GAWPnG,EATE,oBACAmG,EAAIC,KACJ,KACAD,EAAIE,QACJ,gBACA5B,EAAK0G,UACL,KACA,IAAIjE,OAAOzC,EAAK0G,UAAUpF,QAC1B,OAIN,SAASqF,EAAgB1I,EAAM2I,EAAQC,GACrC,IAAItG,EACAF,EAAO,yDACXA,GAAQ,MAAMuG,MACdvG,GAAc,yBACd,IACEE,EAAS,IAAIiB,SAAS,MAAOnB,GAAMoB,MAAMxD,EAAM,CAACA,IAChD,MAAOyD,GASPnG,EAPE,yBACAmG,EAAIC,KACJ,KACAD,EAAIE,QACJ,gBACAiF,EAAKH,UACL,gBAGJ,OAAOnG,EAET,IAAIuG,EAAgB,SAAUjJ,EAAQL,EAAKuJ,GACzCxL,EACE,aACEiC,EACA,+BACAuJ,EACA,WACAlJ,GAAU,KAOhB,SAASmJ,EAAMC,GACb,GAAkB,iBAAPA,EAAiB,CAC1B,IAAIjH,EAAO/E,SAASmL,cAAca,GAClC,OAAKjH,IACHzE,EAAK,2BAA6B0L,GAC3BhM,SAASoJ,cAAc,QAIhC,OAAI4C,EAAGC,WACED,EAAGC,WAAWC,KAEdF,EA2Bb,SAASG,IACP,OAAO1E,KAAK2E,MAA4B,OAArB,EAAI3E,KAAK4E,WACzBjL,SAAS,IACTkL,UAAU,GAqBf,SAASC,EAAOC,EAAU,IACxB,MAAO,MAAQA,EAkBjB,SAASC,EAAWC,GAsBlB,SAASC,EAAa9B,EAAK/F,EAAU,CAAEyH,OAAQ,GAAIK,aAAc,KAC/D,MAAML,OAAEA,EAAMK,aAAEA,GAAiB9H,EACjC,IAAI+H,EAAahC,EAEf+B,MAAAA,GAEiB,KAAjBA,IAEAC,EAAaA,EAAWrJ,QAAQ,IAAIsJ,OAAO,IAAIF,MAAkB,KAEnE,MAAMG,EAAWF,EACd3J,MAAM,KACN+D,QAAQ+F,GAAY,KAANA,IACdC,QAAO,CAACC,EAAGF,IAAWE,EAAI,GAAGF,EAAE,GAAGG,gBAAgBH,EAAE7G,MAAM,OAC7D,OAAIoG,MAAAA,GAAsD,KAAXA,EACtC,GAAGA,IAASQ,EAASvJ,QAAQ,YAAY,CAAC4J,EAAGC,IAClDA,EAAEF,kBAGCJ,EApCTL,EAAO7I,UAAUhB,IAAM,SAAaS,EAAKN,GACvC,IAAIsK,EAAQvL,KACZ,GAAmB,iBAARuB,EACTgK,EAAMhK,GAAON,EACbsK,EAAMC,cAEN,IAAK,IAAIhL,KAAOe,EACVA,EAAIhC,eAAeiB,KACrB+K,EAAM/K,GAAOe,EAAIf,GACjB+K,EAAMC,WAKdb,EAAO7I,UAAUlB,IAAM,SAAaH,EAAQ,IAC1C,MAAiB,KAAVA,EAAeT,KApC1B,SAAeyC,EAAKxB,GAClB,IAAIb,EAAMqC,EAAItB,MAAM,KACpB,GAAIf,EAAIkE,OAAS,EAAG,CAClB,IAAI6C,EAAOlG,EAKX,OAJAb,EAAIgB,SAASqK,IACNtE,EAAKsE,KACVtE,EAAOA,EAAKsE,OAEPtE,EACF,GAAKlG,EAAKwB,GACjB,OAAOxB,EAAKwB,GA0BmBiJ,CAAMjL,EAAOT,OA8B5C,IAAI2L,EAAiB,SAAU9K,EAAQL,EAAKwC,EAAM4I,GAAc,GAC9D/K,GACEtC,EACE,IAAIiC,YAAcwC,8BAChB4I,EAAc,aAAe,iBA6BrC,SAASC,EAAO5B,EAAI6B,EAAUC,EAAQ,EAAGC,GAAO,GAC9C,IAAIC,EAAK,EACLC,EAAUjC,EAAGiC,QAAQ,CAAC,CAAEC,QAASF,GAAM,CAAEG,QAAS,UAAY,CAChEN,SAAAA,EACAC,MAAAA,EACAM,OAAQ,WAENC,EAAQC,aAAY,WAClBN,GAAM,IACRO,cAAcF,GACVN,GACFE,EAAQO,SAGZP,EAAUjC,EAAGiC,QAAQ,CAAC,CAAEQ,WAAY,MAAQ,CAAEP,QAASF,IAAO,CAC5DH,SAAAA,EACAC,MAAAA,EACAM,OAAQ,WAEVJ,GAAU,GACND,GACFE,EAAQS,WAETb,GAUL,SAASc,EAAO3C,EAAI6B,EAAUC,EAAQ,EAAGC,GAAO,GAC9C,IAAIE,EAAUjC,EAAGiC,QACf,CACE,CACEW,wBAAyB,0BACzBC,UAAW,oBAEb,CACED,wBAAyB,0BACzBC,UAAW,kBAGf,CACEhB,SAAAA,EACAC,MAAAA,EACAM,OAAQ,SACRU,WAAYC,EAAAA,KAGH,IAAThB,GACFE,EAAQS,SAOZhC,EAAO7I,UAAU0J,OAAS,WACxB,IAAIyB,EAAOjN,KACXiN,EAAKrC,aAAeA,EACpB,IAAI1E,EAC8B,aAAhChF,EAAKlB,KAAK+C,QAAQmD,UACdlG,KAAK+C,QAAQmD,WACblG,KAAK+C,QAAQmD,UAAY,GACP,iBAAbA,GACW,MAAhBA,EAAS,KACXA,EAtNR,SAAsBjG,GACpB,IAAIgK,EAAKD,EAAM/J,GACf,GAAiC,WAA7BgK,EAAGtD,QAAQtF,cAcf,OAAO4I,GAAMA,EAAG3C,UAbd/I,EAAK,4BAA4B0B,oDACjBgK,EAAGtD,QAAQtF,qBAAqBpB,EAAGwB,QAAQ,KAAM,QAC/DwI,EAAGiD,aAAa,SACZ,UAAUjD,EAAGkD,aAAa,YAC1BlD,EAAGiD,aAAa,SAChB,UAAUjD,EAAGkD,aAAa,YAC1B,eACOlD,EAAGtD,QAAQtF,qDAAqDpB,EAAGwB,QAC9E,KACA,0BA0Ma2L,CAAalH,IAI5BlG,KAAKkG,SAAWA,EAChB+G,EAAKI,WAAY,EACjBJ,EAAKK,aAAc,EACnB,IAAIzM,EAASoM,EAAKlK,QAAQlC,QAAUoM,EAAKlK,QAAQkH,GAC7CpJ,IACFoM,EAAKM,IAAMvD,EAAMnJ,GACjBoM,EAAKM,IAAIC,aAAa,kBAAmB,KAGzCP,EAAKM,KAAOtP,SAASwP,iBACrBR,EAAKM,KAAOtP,SAASgL,MACrBgE,EAAKM,MAAQxP,EAAI2P,OAEjB1N,KAAKuN,IAAI7E,SACTuE,EAAKK,aAAc,EACnB/O,EAAK,oCAEHyB,KAAKuN,MAAQrH,IACf+G,EAAKK,aAAc,EACnB/O,EACE,gFACS2H,IAGb+G,EAAKM,IAAII,WAAaV,EAEtB,IArHoBnG,EAAQ8G,EAqHxB5K,EAAOhD,KAAKuN,IAChB,GAAIN,EAAKI,UAAW,CAClBJ,EAAKY,SAASC,KAAI,SAAU5F,GAC1B,OAAOA,EAAMqF,OAEf3E,EAAU5F,EAAMkD,EAASjD,OAAQjD,MA1Hf8G,EA4HLmG,EAAKY,SA5HQD,EA4HEX,EA3HzBnG,GACLA,EAAO1F,SAAQ,SAAU2M,GACvB,GAAIA,EAAUF,SAASlK,SAASiK,GAC9B,OAAOlJ,IACL,IAAIkJ,EAAGL,mFAEP,WAAYQ,GAAWA,EAAUvC,YAsHrC,IAAK,MAAMvB,KAAMjH,EAAKiE,iBAAiB,KAAM,CACvCgG,EAAKlK,QAAQiL,KACf/D,EAAGuD,aAAa,kBAAmBP,EAAKgB,QAE1C,IAAK,MAAMtJ,KAAQsF,EAAGiE,oBAAqB,CACzC,GAAIvJ,EAAKd,WAAW2G,EAAO,SAAW7F,EAAKd,WAAW,OAAQ,CAC5D,IAAIsK,EAAYxJ,EAAKP,MAAM,GACvBO,EAAKd,WAAW,SAClBsK,EAAYxJ,EAAKP,MAAM,IAGzB,MAAMgK,EAAcnE,EAAGkD,aAAaxI,GACpC,GAAIsI,EAAKoB,OACP,IAAK,MAAMA,KAAUpB,EAAKoB,OAAQ,CAChC,MAAMC,EAAOrB,EAAKoB,OAAOA,GAErBF,IAAcE,GAChBC,EAAKrE,EAAIX,EAAMiF,KAAKvO,OAI1BiK,EAAGuE,iBAAiBL,GAAY3E,IAC9BF,EAAMtJ,KAAMoO,EAAanE,EAAIT,MAG/BS,EAAGwE,gBAAgB9J,QACd,GAAIA,EAAKd,WAAW,eAAiBc,EAAKd,WAAW,KAAM,CAChEc,EAAKP,MAAM,IACPO,EAAKd,WAAW,MAClBc,EAAKP,MAAM,GAEb,IAAIsK,EAAazE,EAAGkD,aAAaxI,GACjC,IACIgK,GADkBhK,EAAKzB,MAAM,0BAA4B,IAC7B4K,KAAKxI,GAAMA,EAAE7D,QAAQ,IAAK,MAC1D,IAAImN,EAAgB,CAClBC,MAAO,SAAeC,GACpB7E,EAAG8E,UAAUvL,IAAIsL,EAAQ,WAE3B,eAAgB,SAAeA,GAC7B7E,EAAG8E,UAAUvL,IAAIsL,EAAQ,kBAE3BE,MAAO,SAAeF,GACpB7E,EAAG8E,UAAUvL,IAAIsL,EAAQ,WAE3B,eAAgB,SAAeA,GAC7B7E,EAAG8E,UAAUvL,IAAIsL,EAAQ,mBAGV,OAAfJ,EACFC,EAAUb,KAAKmB,KACC,SAAVA,GACe,SAAVA,GACU,gBAAVA,GAEU,gBAAVA,IAJcL,EAAcK,GAAQP,MAQ/CC,EAAUb,KAAKmB,IACC,SAAVA,EACFhF,EAAGiF,MAAMxC,WAAa,CACpBP,QAAS,EACTW,UAAW,YAEM,SAAVmC,EACThF,EAAGiF,MAAMxC,WAAa,CACpBP,QAAS,EACTW,UAAW,YAEM,gBAAVmC,EACThF,EAAGiF,MAAMxC,WAAa,CACpBP,QAAS,EACTW,UAAW,YAEM,gBAAVmC,IACThF,EAAGiF,MAAMxC,WAAa,CACpBP,QAAS,EACTW,UAAW,gBAKnB7C,EAAGwE,gBAAgB9J,QACd,GAAIA,EAAKd,WAAW,aAAec,EAAKd,WAAW,KAAM,CAC9D,IAAIsL,EAAiBxK,EAAKP,MAAM,GAC5BO,EAAKd,WAAW,OAClBsL,EAAiBxK,EAAKP,MAAM,IAE9B,MAAMgL,EAAWnF,EAAGkD,aAAaxI,GAAMxD,MAAM,KAE7C,IAAIkO,EAAgB,CAClBvD,SAAUsD,EAAS,GACnBrD,MAAOqD,EAAS,GAChBE,KAAMF,EAAS,IAEjB,MAAMrD,EAAQsD,EAActD,MACtBD,EAAWuD,EAAcvD,SACzBwD,EAAOD,EAAcC,KAC3B,GAAIrC,EAAKf,QACP,IAAK,MAAMA,KAAWe,EAAKf,QAAS,CAClC,MAAMoC,EAAOrB,EAAKf,QAAQA,GACpBqD,EAAYxM,IAChB,IAAK,MAAMvC,KAAOuC,EAChB,GAAIpD,OAAOJ,eAAeG,KAAKqD,EAASvC,GAAM,CAC5C,MAAMuJ,EAAWhH,EAAQvC,GACzByJ,EAAGiF,MAAM1O,GAAOuJ,IAIlBoF,IAAmBjD,GACrBoC,EAAK,CACHpC,QAASjC,EAAGiC,QAAQqC,KAAKtE,GACzBsF,SAAAA,EACAzD,SAAU0D,OAAO1D,GACjBC,MAAOyD,OAAOzD,GACduD,KAAMA,IAKS,WAAnBH,EACFtD,EAAO5B,EAAIuF,OAAO1D,IAAa,IAAK0D,OAAOzD,IAAU,KACzB,WAAnBoD,GACTvC,EAAO3C,EAAIuF,OAAO1D,IAAa,IAAK0D,OAAOzD,IAAU,KAEvD9B,EAAGwE,gBAAgB9J,QACd,GAAIA,IAAS6F,EAAO,QAAmB,QAAT7F,EAAgB,CACnD,GAAIsF,EAAGwF,IAEL,YADA9D,EAAe1B,EAAI,MAAOA,GAAI,GAGhC,MAAMyF,EAAUzF,EAAGkD,aAAaxI,GAChC3E,KAAK2P,KAAKD,GAAWzF,EACrBA,EAAGwE,gBAAgB9J,QACd,GACLA,EAAKd,WAAW2G,EAAO,WACvB7F,EAAKd,WAAW,SAChB,CACA,IAAI+L,EAAWjL,EAAKP,MAAM,GACtBO,EAAKd,WAAW,WAClB+L,EAAWjL,EAAKP,MAAM,IAExB,MAAMyL,EAAW5F,EAAGkD,aAAaxI,GACjC,GAAiB,SAAbiL,EAAqB,CACvB,GAAI3F,EAAGwF,IAEL,YADA9D,EAAe1B,EAAI,YAAaA,GAAI,GAGtCjK,KAAK2P,KAAKE,GAAY5F,EACtBA,EAAGwE,gBAAgB9J,QAEnBsF,EAAGjK,KAAK4K,aAAagF,IAAajG,EAChC3J,KACA6P,EACA5F,GAEFA,EAAGwE,gBAAgB9J,QAEZA,IAAS6F,EAAO,WACK,KAA1BP,EAAGkD,aAAaxI,IAClBpG,EACE,sDACE0L,EAAGtD,QAAQtF,cACX,sBACA4I,EAAGtD,QAAQtF,cACX,KAGNyO,gBAAe,IAAM7F,EAAGwE,gBAAgB9J,MAG1C,IAAK,IAAIoL,KAAQ9C,EAAK+C,WAAY,CAChC,IAAIvN,EAAMwK,EAAK+C,WAAWD,GAC1B,GAAmB,mBAARtN,EAAoB,CAC7B,IAAIwN,EAAQF,EACZ,GAAIpL,EAAKd,WAAW2G,EAAOyF,IAAS,CAClC,IAAIC,EAAUjG,EAAGkD,aAAaxI,GAC9B,IAAIgK,EAAYhK,EAAKzB,MAAM,0BAA4B,GACvDT,EAAIwH,EAAI,CACNsE,KAAM,CACJ9N,MAAOkJ,EAAgB3J,KAAMkQ,EAASjG,GACtCkG,KAAMxL,EAAKxD,MAAM,KAAK,GACtBwD,KAAMA,EACN4E,WAAY2G,EACZvB,UAAWA,EAAUb,KAAKxI,GAAMA,EAAE7D,QAAQ,IAAK,SAGnDgB,EAAI2N,gBAAkBnG,EAAGmG,gBAAkB,CACzCC,QAAQ,EACRF,KAAMxL,EAAKxD,MAAM,KAAK,GACtBV,MAAOkJ,EAAgB3J,KAAMkQ,EAASjG,GACtCV,WAAY2G,EACZvL,KAAMA,EACNgK,UAAWA,EAAUb,KAAKxI,GAAMA,EAAE7D,QAAQ,IAAK,OAEjDwI,EAAGwE,gBAAgB9J,OAO7B,OAAO3B,IAOX2H,EAAO7I,UAAUwO,OAAS,SAAUvC,GAGlC,IAAIjH,EAA6B,UAApB5F,EAAK6M,GAAyBA,EAAY,CAACA,GACxD,IAAK,IAAI7F,KAASpB,EAHR9G,KAIJ6N,SAASrI,KAAK0C,IAsBxB,SAASqI,EAAQzH,EAAK0H,GACpB,MAAM1C,EAAMnO,OAAO8Q,OAAO,MACpBC,EAAO5H,EAAI3H,MAAM,KACvB,IAAK,IAAIwP,KAASD,EAChB5C,EAAI4C,EAAKC,KAAU,EAErB,OAAOH,EACF/N,KAAUqL,EAAIrL,EAAIpB,eAClBoB,KAAUqL,EAAIrL,GArBrBkI,EAAO7I,UAAU8O,OAAS,SAAU7C,GAElC,IAAIjH,EAA6B,UAApB5F,EAAK6M,GAAyBA,EAAY,CAACA,GACxD,IAAK,IAAI7F,KAASpB,EAAQ,CACxB,IAAIzC,EAAQrE,KAAK6N,SAASgD,QAAQ3I,GAClC,GAAI7D,EAAQ,EAAG,OACfrE,KAAK6N,SAASiD,OAAOzM,EAAO,KAkBhC,IAAI0M,EAAeR,EACjB,+HAyEF,IAAIS,EAAQ,EA+BZ,IAAIC,EAAqBV,EAAQ,UAEjC,MAAMW,UAAwBC,MAC5BtR,YAAY+E,GACVwM,MAAMxM,GACN5E,KAAK2E,KAAO,kBACZ3E,KAAK4E,QAAUA,GAInB,SAASyM,EAAKC,GACZ,OAAO,SAAoB1M,GACzBlG,QAAQH,KAAK,IAAI2S,EAAgB,GAAGI,KAAa1M,OAGrD,SAAS2M,EAAMhG,GACbA,EAAMiG,UAAYjG,EAAMxI,QAAQyO,WAAatT,EAAOG,KACpDkN,EAAMkG,UAAYlG,EAAMxI,QAAQ0O,WAAavT,EAAOG,KACpDkN,EAAMmG,QAAUnG,EAAMxI,QAAQ2O,SAAW/R,OAAO8Q,OAAO,MACvDlF,EAAMyE,WAAazE,EAAMxI,QAAQiN,YAAcrQ,OAAO8Q,OAAO,MAC7DlF,EAAMW,QAAUX,EAAMxI,QAAQmJ,SAAWvM,OAAO8Q,OAAO,MACvDlF,EAAMoE,KAAOhQ,OAAO8Q,OAAO,MAC3BlF,EAAM+B,aAAc,EACpB/B,EAAM8B,WAAY,EAClB9B,EAAMoG,UAAYpG,EAAMxI,QAAQ4O,WAAazT,EAAOG,KACpDkN,EAAMsC,SAAW,GACjBtC,EAAMqG,cACuB5T,IAA3BuN,EAAMxI,QAAQ6O,UAAiCrG,EAAMxI,QAAQ6O,SAC3DrG,EAAMxI,QAAQiL,MAAKzC,EAAM0C,OA9lB3B7D,IACAA,IACA,IACAA,IACA,IACAA,IACA,IACAA,IACA,IACAA,IACAA,IACAA,KAzfJ,SAAkBrH,EAAS8O,GACzB,IAAI5Q,EAAO8B,EAAQ9B,KACnBA,EAAO4Q,EAAO5Q,KACI,mBAATA,EAAsBA,EAAKwD,MAAMoN,EAAQ,CAACA,IAAW5Q,GAAQ,GACjEjC,EAAciC,KACjBA,EAAO,GACP1C,EACE,oGAKJ,MAAMwR,EAAOpQ,OAAOoQ,KAAK9O,GACzB,IAAK,IAAIqE,EAAI,EAAGA,EAAIyK,EAAKzL,OAAQgB,IAEZ,iBADTrE,EAAK8O,EAAKzK,KACWuM,EAAOD,WACpC3Q,EAAK8O,EAAKzK,IAAM9D,EAAYP,EAAK8O,EAAKzK,MAEnC1G,KAAciT,EAAOC,MAAM,OAAQ/B,EAAKzK,IAE/CtE,EAAQC,GAyjCR8Q,CAASxG,EAAMxI,QAASwI,GA/H1B,SAAqBsG,GACnB,IAAIH,EAAUG,EAAOH,QACrB,GAAIA,EACF,IAAK,MAAMlR,KAAOkR,EAAS,CACzB,GAAIlR,KAAOqR,EAAO5Q,KAEhB,YADA6I,EAAc9J,KAAMQ,EAAK,QAQ3B,GALIuQ,EAAavQ,IACfjC,EACE,qFAGwB,mBAAjBmT,EAAQlR,GAOjB,YANAjC,EACE,WAAWiC,uBAAyBkR,EAClClR,8EAMN,GAAIA,KAAOqR,GAAUjT,EAAW4B,GAK9B,YAJAjC,EACE,WAAWiC,kHAKfqR,EAAOrR,GACW,MAAhBkR,EAAQlR,GACJtC,EAAOG,KACgB,mBAAhBqT,EAAQlR,GACfkR,EAAQlR,GAAK+N,KAAKsD,GAClB,GACNA,EAAOrR,GAAKwR,cAAe,GA6F/BC,CAAY1G,GACZ,IAAI+E,EAAS/E,EAAMxI,QAAQuN,OACQ,UAA/BpP,EAAKqK,EAAMxI,QAAQuN,QACjB/E,EAAMxI,QAAQuN,OACd,CAAC/E,EAAMxI,QAAQuN,QACjB,SACoBtS,IAApBuN,EAAMiG,WAA+C,OAApBjG,EAAMiG,WACzCjG,EAAMiG,YAERjG,EAAM2G,KAAOlB,GAAS,EAClBzF,EAAMxI,QAAQoP,QACEd,EAAK,QACvBe,CACE,uCACGlU,EAAOmU,KAAO,IAAMnU,EAAOmU,KAAKC,QAAU,IAC3C,oBACA3H,EAAO2H,QACP,iEAGF/G,EAAMxI,QAAQzC,QACG+Q,EAAK,SACxBkB,CACE,kCACA5H,EAAO2H,cAOatU,IAApBuN,EAAMkG,WAA+C,OAApBlG,EAAMkG,UACvClG,EAAMkG,YAERlG,EAAM+B,aACc,OAApB/B,EAAMoG,gBACc3T,IAApBuN,EAAMoG,WAENpG,EAAMoG,YAER,MAAMa,EAAWjH,EAAMxI,QAAQyP,UAAY7S,OAAO8Q,OAAO,MACzD,IAAK+B,EAAU,OAAO,EACtB,IAAK,IAAIhS,KAAOgS,EAAU,CACxB,MAAM/R,EAAQ+R,EAAShS,GACvB,GAAIA,KAAO+K,EAAMtK,MAAQT,KAAO+K,EAAMmG,QAEpC,YADA5H,EAAcyB,EAAO/K,EAAKA,KAAO+K,EAAMtK,KAAO,OAAS,WAGzD,GAAqB,mBAAVR,EACTd,OAAOgB,eAAe4K,EAAO/K,EAAK,CAChCI,IAAKH,EACLgS,YAAY,EACZC,cAAc,QAEX,CAAA,GACY,iBAAVjS,GACW,mBAAVA,GAAyC,iBAAVA,EAKvC,YAHAlC,EACE,+DAAiEkC,GAGzC,iBAAVA,GAChBd,OAAOgB,eAAe4K,EAAO/K,EAAK,CAChCI,IAAKH,EAAMG,KAAO1C,EAAOG,KACzByC,IAAKL,EAAMK,KAAO5C,EAAOG,KACzBqU,cAAc,KAIpB,IAAIC,EAAYpH,EAAMxI,QAAQgH,UAAYpK,OAAO8Q,OAAO,MACxD,IAAK,IAAImC,KAAQD,EAAW,CAC1B,GAAI1B,EAAmB2B,GAErB,YADAC,EAAcD,GAGhB,MAAMtE,EAAOqE,EAAUC,GACH,mBAATtE,GACT3O,OAAOgB,eAAe4K,EAAO,IAAMqH,EAAM,CACvChS,IAAK,WACH,OAAO0N,EAAK/C,IAEdmH,cAAc,IAKhBpC,EAAOhM,QACTgM,EAAOlP,SAAQ,SAAU2M,GACnB,WAAYA,GACdA,EAAUuC,OAAO/E,MAKnBA,EAAMgC,KAAKhC,EAAMC,SAOvB,SAASb,EAAO5H,GACdA,EAAUA,GAAW,GACf,cAAeJ,QAASpE,EAAK,yCAC7ByB,gBAAgB2K,GAASpM,EAAK,0CACpC,IAAIgN,EAAQvL,KACZuL,EAAMxI,QAAUA,EAChB7E,EAAOI,gBAAkBiN,EACzB,IAAIuH,EAAWvH,EAAMxI,QAAQgQ,KAAO,GACvBxH,EAAMxI,QAAQiL,KAGzBzP,EACE,yKAGAuU,GACElL,MAAMoL,QAAQzH,EAAMxI,QAAQgQ,MAC9BxH,EAAMwH,IAAItO,MAAM8G,EAAOA,EAAMxI,QAAQgQ,KAGzCxB,EAAMhG,GAIRb,EAAWC,GAIXA,EAAO7I,UAAUmR,SAAW,WAC1B,IAAI1H,EAAQvL,KACRuL,EAAM+B,aACR/O,EAAK,qCAEHgN,EAAM8B,WACRrN,KAAKuN,IAAI2F,WAAWxK,gBACb1I,KAAKyR,iBACLzR,KAAKuN,IAAII,WAChBpC,EAAM+B,aAAc,EACpB/B,EAAM8B,WAAY,EAClB9B,EAAMoG,aAENpT,EAAK,4DAIToM,EAAO7I,UAAUgQ,MArvCjB,SAAeqB,EAAW3S,GACxB,IAAIqJ,EAAO7J,KACXL,OAAOgB,eAAekJ,EAAMrJ,EAAK,CAC/BkS,cAAc,EACdD,YAAY,EACZ7R,IAAK,WACH,OAAOiJ,EAAKsJ,GAAW3S,IAEzBM,IAAK,SAAwBsS,GAG3B,OAFAvJ,EAAKsJ,GAAW3S,GAAO4S,EACvBvJ,EAAK2B,UACE,MA2uCbb,EAAO7I,UAAUiR,IA3MjB,WAKE,IAJA,IAAIM,EAAcC,UAEdC,EAAQvT,KACRwT,EAAU,GACLC,EAAK,EAAGA,EAAKH,UAAUhP,OAAQmP,IACtCD,EAAQC,GAAMJ,EAAYI,GAiB5B,OAfAD,EAAQpS,SAAQ,SAAUkK,GACpBA,EAAEoI,SAAWlR,EAAW8I,EAAEoI,SAC5BpI,EAAEoI,QAAQ,CACRxU,MAAOqU,EAAM1T,YAAYiC,UACzB6I,OAAQ4I,EAAM1T,YACd8T,SAAUJ,IAGZjI,EAAE,CACApM,MAAOqU,EAAM1T,YAAYiC,UACzB6I,OAAQ4I,EAAM1T,YACd8T,SAAUJ,OAITvT,MAsLT,IAAI4T,EAAU,CAAEnB,YAAY,EAAMC,cAAc,EAChDkB,IAAc,WACZ,OAAO1V,GAGP0V,IAAc,WACZrV,EACE,6EAINoB,OAAOgB,eAAegK,EAAQ,SAAUiJ,GACxC,IAAIf,EAAgB,SAAUrS,EAAKK,GACjCtC,EACE,CAAC,IAAMiC,EAAM,8BAA+B,0BAA0ByD,KACpE,IAEFpD,IASAkJ,EAAW,SAAUpF,EAAMkP,GACzB5C,EAAmBtM,GACrBkO,EAAclO,GAGhBhF,OAAOgB,eAAegK,EAAO7I,UAAW,IAAM6C,EAAM,CAClD/D,IAAK,WACH,OAAOiT,KAET/S,IAAK,SAAwBgT,GAC3BvV,EAAK,sCAEPmU,cAAc,EACdD,YAAY,KAOZsB,EAAY,SAAmBhR,GACjC,IAAIA,EAAQ9B,MACkB,mBAAjB8B,EAAQ9B,KAKrB,OAAO,IAAI0J,EAAO5H,GAJdxE,EAAK,4CAA4CwE,EAAQ9B,OA+B/D,SAAS+S,EAAWb,EAAW3S,EAAKC,EAAOkE,EAAMsP,GAC/C,IAAIpK,EAAO7J,KACXL,OAAOgB,eAAekJ,EAAMrJ,EAAK,CAC/BkS,cAAc,EACdD,YAAY,EACZ7R,IAAK,WACH,IAAIsT,EAAKrK,EAAKsJ,GAAW3S,GACzB,OAAIC,IAAUmF,QAAwB,iBAAPsO,GAC7B3V,EACE,UACEoG,EACA,iDACOuP,GAEJ,aACEzT,IAAU+O,QAAwB,iBAAP0E,GAQ3BzT,IAAU+O,QAAwB,iBAAP0E,GAPpC3V,EACE,UACEoG,EACA,iDACOuP,GAEJ,aASEzT,IAAU+D,UAA0B,mBAAP0P,GACtC3V,EACE,UACEoG,EACA,mDACOuP,GAEJ,aACEzT,IAAUd,QAAwB,iBAAPuU,GACpC3V,EACE,UACEoG,EACA,iDACOuP,GAEJ,aACEzT,IAAUmH,OAAsB,UAAb1G,EAAKgT,IACjC3V,EACE,UACEoG,EACA,gDACOuP,GAEJ,aACEzT,IAAU0T,SAAyB,kBAAPD,GACrC3V,EACE,UACEoG,EACA,kDACOuP,GAEJ,aAEArK,EAAKsJ,GAAW3S,IAAQyT,GAKnCnT,IAAK,SAA6BsS,GAChC,GAAI3S,IAAUmF,QAA4B,iBAAXwN,EAQxB,GAAI3S,IAAU+O,QAA4B,iBAAX4D,EAQ/B,GAAI3S,IAAU+D,UAA8B,mBAAX4O,EAQjC,GAAI3S,IAAUd,QAA4B,iBAAXyT,EAQ/B,GAAI3S,IAAU0T,SAA6B,kBAAXf,EAAhC,CAQA,GAAI3S,IAAUmH,OAA0B,UAAjB1G,EAAKkS,GAQ5B,OAAc,OAAV3S,GAIToJ,EAAKsJ,GAAW3S,GAAO4S,EACvBvJ,EAAK2B,UACE,IALP3B,EAAKsJ,GAAW3S,GAAO4S,OACvBvJ,EAAK2B,UATLjN,EACE,UACEoG,EACA,gDACOyO,QAZX7U,EACE,UACEoG,EACA,kDACOyO,QAZX7U,EACE,UACEoG,EACA,iDACOyO,QAZX7U,EACE,UACEoG,EACA,mDACOyO,QAZX7U,EACE,UACEoG,EACA,iDACOyO,QAZX7U,EACE,UACEoG,EACA,iDACOyO,MAiEnB,SAASgB,EAASnU,GAChB,OACElC,IACCA,EAAIqL,cAAc,qBAAuBnJ,EAAK,OAZnD,SAAmBA,GACjB,GAAIlC,EAAK,CACP,IAAIkM,EAAKlM,EAAIsJ,cAAc,SAI3B,OAHA4C,EAAG/I,KAAO,WACV+I,EAAGuD,aAAa,kBAAmBvN,GAAM,IACzClC,EAAIsW,qBAAqB,QAAQ,GAAG9L,YAAY0B,GACzCA,GAMiDqK,CAAUrU,IAItE,IAAIyI,EAAS,wBACT6L,EACF,uGACE9T,EAAQ,WA8BZ,IAAI+T,EAAmB,gDACnBC,EAAgB,6BAChBC,GAAmB,QACnBC,GACF,qDACEC,GACF,kGACEC,GAAiB,cACjBC,GAAQ,gBACRC,GAAqB,mCACzB,SAAS9R,GAAK6F,GACZ,OAAOA,EAAI7F,OAEb,SAAS+R,GAAcC,GACrB,OAAOA,EAAKnM,IA4Bd,SAASoM,GAAalH,EAAK/N,GACzB,IAAIkV,EAAW,sBAAwBlV,EAAK,KA+B5C,MAAOmV,sCA7BHL,GAAmBM,KAAKrH,GACZA,EAAIvM,QAAQsT,GAAoBI,GApElD,SAAkBnH,EAAK6F,EAAUyB,QACA,IAA3BA,IACFA,EAAyB,IAE3B,IAAIC,EAAS,GAgBb,OAfAvH,EAAMA,EACHvM,QAAQ8S,GAAQ,SAAUrR,GACzB,MAAO,MAAQqS,EAAO/P,KAAKtC,GAAS,MAErCzB,QAAQiH,EAAQ,IACnB4M,EAAuBlU,SAAQ,SAAUoU,GACvCxH,EAAMA,EAAIvM,QAAQ+T,GAAS,SAAUtS,GACnC,MAAO,MAAQqS,EAAO/P,KAAKtC,GAAS,SAQjC2Q,EAAS7F,GALE,SAAUA,GAC1B,OAAOA,EAAIvM,QAAQhB,GAAO,SAAUgV,EAAQC,GAC1C,OAAOH,EAAOG,SAqDFC,CACZ3H,GACA,SAAUA,EAAK4H,GAmBb,OAlBA5H,EAAMA,EACHvM,QAAQgT,EAAe,OACvBhT,QAAQ+S,GAAkB,SAAUtR,EAAO2S,GAE1C,GAAIhB,GAAeQ,KAAKQ,GACtB,OAAO3S,EAET,GAAI4R,GAAMO,KAAKQ,GAAK,OAAO3S,EAC3B,IACI4S,EADYD,EAAG1U,MAAM,KAAK2M,IAAI7K,IAG7B6K,KAAI,SAAUiI,GACb,OA/ClB,SAA2BA,EAAUC,GAGnC,IAFA,IACI9S,EADA+S,EAAgB,GAEZ/S,EAAQ0R,GAAoBzQ,KAAK4R,IACvCE,EAAczQ,KAAK,CACjBsD,IAAK5F,EAAM,GACXgT,KAAMhT,EAAM,GACZyL,UAAWzL,EAAM,KAQrB,IAHA,IAAIgT,EAAOD,EAAcnI,IAAIkH,IACzBc,EAAc,GACdxQ,EAAI2Q,EAAc3R,OACfgB,KAAK,CACV,IAAI6Q,EAAWD,EAAK9R,QAEhB6Q,EAAOgB,EAAc3Q,GACzB6Q,EAAS7Q,GAAK2P,EAAKiB,KAAOF,EAASf,EAAKtG,WAAa,GACrD,IAAIyH,EAAYF,EAAK9R,QACrBgS,EAAU9Q,GAAK0Q,EAAS,IAAMI,EAAU9Q,GACxCwQ,EAAYtQ,KAAK2Q,EAASlS,KAAK,KAAMmS,EAAUnS,KAAK,MAEtD,OAAO6R,EAAY7R,KAAK,MAuBDoS,CAAkBN,EAAUZ,MAEpClR,KAAK,MAAQ,IAClB,OAAOf,EAAMzB,QAAQoU,EAAIC,MAE1BrU,QAAQiT,GAAkB,IACtBkB,EAAY5H,KAErB,CAAC2G,MAMP,IAkHI2B,GAAc,eAClB3L,EAAO2H,QAAUgE,GACjB3L,EAAOhK,eAAiBoJ,EACxBY,EAAOoJ,UAAYA,EACnBpU,OAAOgB,eAAegK,EAAQ,QAAS,CACrClK,MAAO,CACLlC,KAAMA,GAERmU,cAAc,EACdD,YAAY,IAEd9H,EAAO4L,OA7HM,SAAgBxT,GAC3B,IAAIA,EAAQkH,KAAMlH,EAAQlC,OAA1B,CAmBA,IAAI2V,EAASxW,KAiEb0K,EAAW+L,GACX,IAAIvX,EAAQS,OAAO8Q,OAAO+F,EAAO1U,WAyBjC,OAxBA5C,EAAMW,YAAc4W,EAEpBA,EAAgB3U,UAAY5C,EAC5BuX,EAAgB3U,UAAUkS,WAAaA,EAEvCrU,OAAO+W,iBAAiBD,EAAiB,CACvCF,OAAQ,CAAE9V,MAAO+V,EAAOD,OAAQ7D,cAAc,EAAMD,YAAY,GAChEsB,UAAW,CACTtT,MAAO+V,EAAOzC,UACdrB,cAAc,EACdD,YAAY,GAEd9R,eAAgB,CACdF,MAAO+V,EAAO7V,eACd+R,cAAc,EACdD,YAAY,GAEdkE,MAAO,CACLlW,MAAO,CAAElC,KAAMiY,EAAOG,MAAMpY,MAC5BmU,cAAc,EACdD,YAAY,GAEdH,QAAS,CAAE7R,MAAO+V,EAAOlE,QAASI,cAAc,EAAMD,YAAY,KAE7DgE,EA1FP,SAASA,EAAgBG,GACvB,KAAM5W,gBAAgByW,GAEpB,YADAlY,EAAK,gEAGP,IAAIgN,EAAQvL,KACZuL,EAAMxI,QAAUA,EACZ6T,EAAa3M,IAAM2M,EAAa/V,OAClC0K,EAAMxI,QAAQkH,GAAK2M,EAAa3M,IAAM2M,EAAa/V,OAEnD0K,EAAMxI,QAAQkH,GAAKlM,EAAIuK,0BAEViD,EAAMxI,QAAQgQ,KAAO,KAE9BnL,MAAMoL,QAAQzH,EAAMxI,QAAQgQ,MAC9BxH,EAAMwH,IAAItO,MAAM8G,EAAOA,EAAMxI,QAAQgQ,KAIrCxH,EAAMxI,QAAQ9B,MACkB,mBAAvBsK,EAAMxI,QAAQ9B,MAhtD/B,SAAazC,KAAQC,IACG,IAAlBP,EAAOC,QACTO,QAAQH,KAAK,kBAAmBC,KAAQC,GA+sDpCoY,CACE,4CAA4CtL,EAAMxI,QAAQ9B,UAC1B,iBAAvBsK,EAAMxI,QAAQ9B,KACjB,qFACA,OAMPsK,EAAMxI,QAAQuN,QAAUsG,EAAatG,SACxC/E,EAAMxI,QAAQuN,OAASsG,EAAatG,QAGlCvN,EAAQ+T,OAASF,EAAaE,OAjVtC,SAAmB/T,EAAS8O,EAAQe,GAClC,IAAIkE,EAAQ/T,EAAQ+T,MACpBA,EAAQjF,EAAOiF,MAAQA,GAASnX,OAAO8Q,OAAO,MACzC7I,MAAMoL,QAAQ8D,IAAW9X,EAAc8X,KAC1CA,EAAQ,GACRvY,EAAK,2CAGP,MAAMwY,EAASnE,EACf,IAAK,IAAIoE,KAAUD,EACW,iBAAjBnE,EAAKoE,IAAwBnF,EAAOD,WAC7CgB,EAAKoE,GAAUxV,EAAYoR,EAAKoE,KAE7BpY,KACHiT,EAAOmC,WACL,QACAgD,EACAD,EAAOC,GAAQ9V,MAAQ6V,EAAOC,GAC9BA,EACAD,EAAOC,GAAQC,SAGrBjW,EAAQ8V,GA4TJI,CAAUN,EAAcrL,EAAOxI,EAAQ+T,OAEzCvF,EAAMhG,GACN,IAAI4L,EAAS5L,EAAMxI,QAAQiL,IAC3BzC,EAAM6L,UAAY7L,EAAMxI,QAAQqU,YAAa,EAC7C,MAAMC,EAAS9L,EAAM6L,UACrB,GAAID,EAAQ,CACQ,MAAdA,EAAO,KACTA,EA5nBR,SAAwBlX,GACtB,IAAIgK,EAAKD,EAAM/J,GACf,GAAiC,UAA7BgK,EAAGtD,QAAQtF,cAkBf,OAAO4I,GAAMA,EAAG3C,UAjBd/I,EACE,4BAA4B0B,8CAA+CgK,EAAGtD,QAAQtF,qBAAqBpB,EAAGwB,QAC5G,KACA,QAEAwI,EAAGiD,aAAa,SACZ,UAAUjD,EAAGkD,aAAa,YAC1BlD,EAAGiD,aAAa,SAChB,UAAUjD,EAAGkD,aAAa,YAC1B,eACOlD,EAAGtD,QAAQtF,iDAAiDpB,EAAGwB,QAC1E,KACA,wBA6mBS6V,CAAeH,IAG1B,IAAII,EAAkB1U,EAAMsU,EAAQ5L,GACpC,GAAI8L,EAAQ,CACV,IAAIG,EAAWtC,GAAaqC,EAAiBhM,EAAM0C,QAKnD,GAJA1C,EAAMyC,IAAM,CACVvN,MAAO8W,EACPzB,YAAa,CAAEzF,QAAQ,EAAM5P,MAAO+W,IAElCzZ,EAAIqL,cAAc,0BAA2B,CAC/C,IAAIqO,EAAK1Z,EAAIqL,cAAc,0BAC3BqO,EAAGnQ,UAAYmQ,EAAGnQ,UAAYkQ,MACzB,CACOpD,IACN9M,UAAYkQ,KA9ExBjZ,EACE,gCACEwE,EAAQkH,GACJ,OAASlH,EAAQkH,GACjBlH,EAAQlC,OACR,WAAakC,EAAQlC,OACrB,2FAEJkC,EAAQkH,GACJ,QAAUlH,EAAQkH,GAAK,IACvBlH,EAAQlC,OACR,YAAckC,EAAQlC,OAAS,IAC/B,gBAsIZ,GArBwB,CACtB,MACA,cACA,MACA,WACA,eAGgBO,SAASsQ,IACzB/R,OAAOgB,eAAegK,EAAQ+G,EAAS,CAErCjR,MAAO,WACW4Q,EAAKK,EAErBgG,CAAU,oCAEZhF,cAAc,EACdD,YAAY,OAIZ/P,EAAW,CACb,IAAIiV,GAAiB,CACnB,iBAAmBhN,EAAO2H,QAAU,8BACpC,oCACA,iCACA,gDACA,8EAEE1N,GAAU,CACZ,yBAAyB+F,EAAO2H,8RAQlC,IAAKpU,EAAOC,QACa,oBAAZO,QAAyB,CAClC,IAAIkZ,KAAiBlZ,QAAQmZ,eACzBD,IACFlZ,QAAQkZ,GAAe,iBAAmB,SAASnT,MACjD/F,QACAiZ,IAEFjZ,QAAQA,QAAQoZ,KAAO,OAAS,OAAOrT,MAAM/F,QAASkG,IACtDlG,QAAQqZ,YAERrZ,QAAQA,QAAQoZ,KAAO,OAAS,OAAOrT,MAAM/F,QAASkG"}